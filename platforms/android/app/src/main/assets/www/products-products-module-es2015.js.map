{"version":3,"sources":["./src/app/products/products.page.html","./src/app/products/products.module.ts","./src/app/products/products.page.scss","./src/app/products/products.page.ts","./src/app/upload/upload.service.ts"],"names":[],"mappings":"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","file":"products-products-module-es2015.js","sourcesContent":["module.exports = \"<ion-content color=\\\"primary\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" padding>\\n      <ion-icon name=\\\"arrow-back\\\" (click)=\\\"back()\\\"></ion-icon>\\n    </ion-buttons>\\n    <ion-title>Add to stock</ion-title>\\n  </ion-toolbar>\\n  <div class=\\\"body\\\" *ngIf=\\\"type\\\">\\n\\n    <div class=\\\"buttons\\\">\\n      <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"addNewProduct()\\\">New Product</ion-button><br><br><br>\\n      <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"existingProduct()\\\">Existing Product</ion-button><br><br><br>\\n      <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"categoryModal()\\\">New Category</ion-button>\\n    </div>\\n  </div>\\n  <div class=\\\"body\\\" *ngIf=\\\"existing\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"padding-top: 10px;\\\">\\n      <ion-button (click)=\\\"close()\\\">\\n        <ion-icon size=\\\"large\\\" color=\\\"primary\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-row padding text-center>\\n      <ion-col>\\n        <ion-label class=\\\"title\\\">Choose category to filter</ion-label>\\n        <ion-select placeholder=\\\"category\\\" [(ngModel)]=\\\"category\\\" (ionChange)=\\\"setFilteredItems()\\\">\\n          <ion-select-option *ngFor=\\\"let item of categories.categories\\\">{{item.name}}</ion-select-option>\\n        </ion-select>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        <ion-icon name=\\\"pricetags\\\" class=\\\"image\\\" color=\\\"primary\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n    <ion-item text-center *ngIf=\\\"category != null\\\">\\n      <ion-input type=\\\"text\\\" clearInput placeholder=\\\"Enter product name\\\"></ion-input>\\n      <ion-icon name=\\\"search\\\" slot=\\\"end\\\"></ion-icon>\\n    </ion-item>\\n    <ion-item text-center color=\\\"medium\\\">\\n      <ion-col size=\\\"2\\\">\\n        Icon\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        Product\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        Stock\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        Units\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        Price\\n      </ion-col>\\n    </ion-item>\\n    <ion-item text-center (click)=\\\"viewProduct(item)\\\" *ngFor=\\\"let item of products\\\">\\n      <ion-col text-center size=\\\"2\\\">\\n        <ion-thumbnail>\\n          <img [src]=\\\"item.image\\\">\\n        </ion-thumbnail>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        {{item.product}}\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        {{item.stock}}\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        {{item.quantity}}\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        {{item.currentprice}}\\n      </ion-col>\\n    </ion-item>\\n\\n  </div>\\n\\n  <div *ngIf=\\\"newProduct\\\" class=\\\"body\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"padding-top: 10px;\\\">\\n      <ion-button (click)=\\\"close()\\\">\\n        <ion-icon size=\\\"large\\\" color=\\\"primary\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <form (ngSubmit)=\\\"addProduct()\\\" [formGroup]=\\\"productForm\\\">\\n      <ion-list>\\n        <ion-item>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"productName\\\" placeholder=\\\"Enter Product name\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-input type=\\\"number\\\" formControlName=\\\"barcode\\\" placeholder=\\\"scan barcode\\\"></ion-input>\\n          <ion-icon slot=\\\"end\\\" name=\\\"qr-scanner\\\" (click)=\\\"scan()\\\"></ion-icon>\\n        </ion-item>\\n        <ion-item (click)=\\\"selectCategory()\\\">\\n          <ion-label>Select Category </ion-label>\\n          <ion-input placeholder=\\\"Select Category\\\" required slot=\\\"end\\\" formControlName=\\\"category\\\" value=\\\"{{value}}\\\">\\n            <ion-icon name=\\\"arrow-dropdown\\\" color=\\\"medium\\\"></ion-icon>\\n          </ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-input type=\\\"number\\\" formControlName=\\\"quantity\\\" placeholder=\\\"Enter Quantity available\\\" required>\\n          </ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"unit\\\" placeholder=\\\"Enter Product Unit\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"price\\\" placeholder=\\\"Enter Product Price\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"description\\\" placeholder=\\\"Enter Description\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label>Set status as Available</ion-label>\\n          <ion-toggle checked slot=\\\"end\\\" formControlName=\\\"status\\\"></ion-toggle>\\n        </ion-item>\\n        <ion-item (click)=\\\"selectImage()\\\">\\n          <ion-label>Image:</ion-label>\\n          <ion-input formControlName=\\\"image\\\" value=\\\"{{image}}\\\" required></ion-input>\\n          <ion-icon slot=\\\"end\\\" name=\\\"camera\\\"></ion-icon>\\n        </ion-item>\\n        <ion-button expand=\\\"full \\\" type=\\\"submit\\\" shape=\\\"round\\\" [disabled]=\\\"!productForm.valid\\\"\\n          style=\\\"margin-top: 50px;\\\">Save</ion-button>\\n      </ion-list>\\n    </form>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductsPage } from './products.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProductsPage]\n})\nexport class ProductsPageModule {}\n","module.exports = \"ion-card {\\n  border-radius: 10px 10px 0px 0px;\\n  background-color: #3880ff;\\n  margin-left: 0px;\\n  margin-right: 0px;\\n  text-align: center;\\n  margin-bottom: 0px;\\n  text-shadow: 2px 2px 5px #3881f3;\\n  height: 200px;\\n}\\n\\nion-slides {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\nion-slides img {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  height: 100%;\\n}\\n\\nion-select {\\n  color: var(--ion-color-primary);\\n}\\n\\n.loader {\\n  text-align: center;\\n  margin-top: 40%;\\n}\\n\\n.body {\\n  color: var(--ion-color-medium);\\n  background-color: white;\\n  border-radius: 20px 20px 0px 0px;\\n  width: 100%;\\n  height: 10000px;\\n  margin-bottom: 0px;\\n  margin-top: 40px;\\n}\\n\\n.buttons {\\n  padding-top: 60%;\\n  text-align: center;\\n}\\n\\n.title {\\n  font-weight: bold;\\n  font-size: 1.1em;\\n}\\n\\n.image {\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  width: 50%;\\n  height: 50%;\\n  float: right;\\n}\\n\\nion-thumnail {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nion-thumnail img {\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  -o-object-position: center;\\n     object-position: center;\\n}\\n\\n.asc {\\n  background-color: var(--ion-color-primary);\\n}\\n\\n.asc button {\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL0t3aWtfTWVyY2hhbnQvc3JjL2FwcC9wcm9kdWN0cy9wcm9kdWN0cy5wYWdlLnNjc3MiLCJzcmMvYXBwL3Byb2R1Y3RzL3Byb2R1Y3RzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdDQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdDQUFBO0VBQ0EsYUFBQTtBQ0NKOztBRENBO0VBQ0ksMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0FDRUo7O0FEREk7RUFDSSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7RUFDQSxZQUFBO0FDR1I7O0FEQUE7RUFDSSwrQkFBQTtBQ0dKOztBRERBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0FDSUo7O0FERkE7RUFDSSw4QkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNLSjs7QURIQTtFQUNJLGdCQUFBO0VBQ0Esa0JBQUE7QUNNSjs7QURKQTtFQUNJLGlCQUFBO0VBQ0EsZ0JBQUE7QUNPSjs7QURMQTtFQUNJLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNRSjs7QUROQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FDU0o7O0FEUkk7RUFDSSxzQkFBQTtLQUFBLG1CQUFBO0VBQ0EsMEJBQUE7S0FBQSx1QkFBQTtBQ1VSOztBRFBBO0VBS0ksMENBQUE7QUNNSjs7QURWSTtFQUNJLCtCQUFBO0FDWVIiLCJmaWxlIjoic3JjL2FwcC9wcm9kdWN0cy9wcm9kdWN0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCB7XG4gICAgYm9yZGVyLXJhZGl1czoxMHB4IDEwcHggMHB4IDBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzg4MGZmO1xuICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICB0ZXh0LXNoYWRvdzogMnB4IDJweCA1cHggIzM4ODFmMztcbiAgICBoZWlnaHQ6IDIwMHB4O1xufVxuaW9uLXNsaWRlcyB7XG4gICAgd2lkdGg6IGZpdC1jb250ZW50IDtcbiAgICBpbWcge1xuICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG59XG5pb24tc2VsZWN0e1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4ubG9hZGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogNDAlO1xufVxuLmJvZHl7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwcHggMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwMDBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgbWFyZ2luLXRvcDogNDBweDtcbn1cbi5idXR0b25ze1xuICAgIHBhZGRpbmctdG9wOiA2MCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLnRpdGxle1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMS4xZW07XG59XG4uaW1hZ2V7XG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICB3aWR0aDogNTAlO1xuICAgIGhlaWdodDogNTAlO1xuICAgIGZsb2F0OiByaWdodDtcbn1cbmlvbi10aHVtbmFpbHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgaW1ne1xuICAgICAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgICAgICBvYmplY3QtcG9zaXRpb246IGNlbnRlcjtcbiAgICB9XG59XG4uYXNje1xuICAgIGJ1dHRvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgIFxuICAgIH1cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbiIsImlvbi1jYXJkIHtcbiAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDBweCAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzODgwZmY7XG4gIG1hcmdpbi1sZWZ0OiAwcHg7XG4gIG1hcmdpbi1yaWdodDogMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDBweDtcbiAgdGV4dC1zaGFkb3c6IDJweCAycHggNXB4ICMzODgxZjM7XG4gIGhlaWdodDogMjAwcHg7XG59XG5cbmlvbi1zbGlkZXMge1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG59XG5pb24tc2xpZGVzIGltZyB7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG5pb24tc2VsZWN0IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cblxuLmxvYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogNDAlO1xufVxuXG4uYm9keSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwcHggMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAwMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIG1hcmdpbi10b3A6IDQwcHg7XG59XG5cbi5idXR0b25zIHtcbiAgcGFkZGluZy10b3A6IDYwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4udGl0bGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAxLjFlbTtcbn1cblxuLmltYWdlIHtcbiAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgd2lkdGg6IDUwJTtcbiAgaGVpZ2h0OiA1MCU7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuaW9uLXRodW1uYWlsIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbmlvbi10aHVtbmFpbCBpbWcge1xuICBvYmplY3QtZml0OiBjb250YWluO1xuICBvYmplY3QtcG9zaXRpb246IGNlbnRlcjtcbn1cblxuLmFzYyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cbi5hc2MgYnV0dG9uIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn0iXX0= */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FirestoreService } from '../services/firestore.service';\nimport { Location } from '@angular/common';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { DatabaseService } from '../database.service';\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/camera/ngx';\nimport { FormBuilder, FormGroup, Validators, FormArray, FormControl } from '@angular/forms';\nimport { ActionSheetController, ModalController, ToastController, LoadingController } from '@ionic/angular';\nimport { CategoryPage } from '../category/category.page';\nimport { UploadService } from '../upload/upload.service';\nimport { File } from '@ionic-native/file/ngx';\nimport { Storage } from '@ionic/storage';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\nimport { Crop } from '@ionic-native/crop/ngx';\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.page.html',\n  styleUrls: ['./products.page.scss'],\n})\nexport class ProductsPage implements OnInit {\n  // variables\n  type = true;\n  existing = false;\n  newProduct = false;\n  category: string;\n  productForm: FormGroup;\n  value = '';\n  scannedcode = '';\n  image = ''\n  images = [];\n  categories;\n  products ;\n  unfilteredProducts ;\n  shop ;\n  loading ;\n\n  constructor(\n    private navCtrl: Router,\n    private service: FirestoreService,\n    private asc: ActionSheetController,\n    private scannner: BarcodeScanner,\n    private http: HttpClient,\n    private db: DatabaseService,\n    private camera: Camera,\n    private formBuilder: FormBuilder,\n    private modal: ModalController,\n    private upload: UploadService,\n    private file: File,\n    private loader: LoadingController,\n    private load: LoadingController,\n    private storage: Storage,\n    private ref: ChangeDetectorRef,\n    private webview: WebView,\n    private fs: AngularFirestore,\n    private imagePicker: ImagePicker,\n    private cropService: Crop,\n    private fileChooser: FileChooser,\n\n  ) {\n\n    this.service.hiddenTabs = true;\n\n    this.productForm = formBuilder.group({\n      productName: ['', Validators.required],\n      barcode: [this.scannedcode],\n      category: [this.value, Validators.required],\n      quantity: ['', Validators.required],\n      unit: ['', Validators.required],\n      price: ['', Validators.required],\n      description: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*')])],\n      status: [''],\n      // image: [this.image, Validators.required]\n    });\n\n    this.service.getallcategories(this.db.getshopname()).valueChanges().subscribe(res => {\n      this.categories = res ;\n    })\n    this.shop = this.db.getshopname() ;\n    this.getproducts();\n  }\n\n  async getproducts(){\n    await this.fs.collection(this.shop).valueChanges().subscribe(res => {\n      console.log(res)\n      this.products =  res ;\n      this.unfilteredProducts = res ;\n\n    })\n }\n  \n  // filter products\n  setFilteredItems() {\n    if (this.category !== null || this.category !== '') {\n      this.products = this.filterItems();\n      console.log(this.products);\n    }\n  }\n  filterItems() {\n    return this.unfilteredProducts.filter(item => {\n      return item.category.toLowerCase().indexOf(this.category.toLowerCase()) > -1;\n    });\n  }\n  \n\n  ngOnInit() {\n  }\n\n  back() {\n    this.service.hiddenTabs = false;\n    this.close();\n    this.navCtrl.navigate(['tabs/stock']);\n  }\n  addNewProduct() {\n    this.newProduct = true;\n    this.type = false;\n  }\n  existingProduct() {\n    this.existing = true;\n    this.type = false;\n  }\n  close() {\n    this.existing = false;\n    this.type = true;\n    this.newProduct = false;\n    this.category = null;\n  }\n  viewProduct(item) {\n    this.service.hiddenTabs = true;\n    this.service.setProduct(item);\n    console.log(item)\n    this.navCtrl.navigate(['tabs/productmodal']);\n  }\n  addProduct() {\n    console.log(this.productForm.value);\n    this.productForm.reset();\n    this.category = '';\n    this.Toast('uploading...');\n    this.upload.presentToast('Product upload successful');\n\n\n  }\n  scan() {\n    this.scannner.scan().then(code => {\n      if (code.cancelled) { return; }\n      this.scannedcode = code.toString();\n    });\n  }\n  async selectCategory() {\n    const actionSheet = await this.asc.create({\n      header: 'Categories',\n      buttons: this.createButtons()\n    });\n    await actionSheet.present();\n  }\n  createButtons() {\n    const buttons = [];\n    \n    console.log(this.categories.categories)\n    // tslint:disable-next-line: forin\n    for (let index in this.categories.categories) {\n      const button = {\n        text: this.categories.categories[index].name,\n        // icon: this.Allcategories[index].icon,\n        handler: () => {\n          console.log('button text ' + this.categories.categories[index].name);\n          this.value = this.categories.categories[index].name;\n          return true;\n        }\n      };\n      buttons.push(button);\n    }\n    const adbutton = {\n      text: 'Add New',\n      cssClass: 'asc',\n      handler: () => {\n        console.log('adding new');\n        this.categoryModal();\n      }\n    };\n    buttons.push(adbutton);\n    return buttons;\n  }\n  async categoryModal() {\n    const modal = await this.modal.create({\n      component: CategoryPage,\n      componentProps: { shopname: this.db.getshopname() }\n    });\n    localStorage.setItem('shop', this.db.getshopname());\n    await modal.present();\n  }\n \n  async selectImage() {\n    const actionSheet = await this.asc.create({\n      header: \"Select Image Source\",\n      buttons: [\n        {\n          text: 'Load from Library',\n          handler: () => {\n            this.openImagePickerCrop();\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n  openImagePickerCrop(){\n    this.imagePicker.hasReadPermission().then(\n      (result) => {\n        if(result == false){\n          // no callbacks required as this opens a popup which returns async\n          this.imagePicker.requestReadPermission();\n        }\n        else if(result == true){\n          this.imagePicker.getPictures({\n            maximumImagesCount: 1\n          }).then(\n            (results) => {\n              for (var i = 0; i < results.length; i++) {\n                this.cropService.crop(results[i], {quality: 75}).then(\n                  newImage => {\n                    this.uploadImageToFirebase(newImage);\n                  },\n                  error => alert(\"Error cropping image\"+error)\n                );\n              }\n            }, (err) => alert(err)\n          ).catch(err => console.log(err));\n        }\n      }, (err) => {\n        alert(err);\n      }).catch(err => alert(err))\n    }\n    uploadImageToFirebase(image){\n      image = this.webview.convertFileSrc(image);\n    \n      //uploads img to firebase storage\n      this.upload.uploadImage(image)\n      .then(photoURL => {\n        console.log(photoURL);\n        this.upload.presentToast('Image was updated successfully');\n        \n        })\n      }\n    async Toast(msg){\n      this.loading = await this.loader.create({\n        message: msg,\n        duration: 2000,\n      });\n      await this.loading.present();\n    }\n \n}\n","import { Injectable, ChangeDetectorRef } from '@angular/core';\nimport { ActionSheetController, ToastController, LoadingController } from '@ionic/angular';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { File } from '@ionic-native/file/ngx';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { DatabaseService } from '../database.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadService {\n\n  constructor(\n    private navCtrl: Router,\n    private asc: ActionSheetController,\n    private http: HttpClient,\n    // private camera: Camera,\n    private upload: UploadService,\n    private file: File,\n    private toast: ToastController,\n    private load: LoadingController,\n    // private storage: Storage,\n    // private ref: ChangeDetectorRef,\n    private webview: WebView,\n    private Firestorage: AngularFireStorage,\n    private db: DatabaseService\n\n  ) { }\n\n  \n\n  async presentToast(text) {\n    const toasted = await this.toast.create({\n      message: text,\n      duration: 2000,\n      position: \"bottom\"\n    });\n    await toasted.present();\n  }\n  \n  uploadImage(imageURI){\n    return new Promise<any>((resolve, reject) => {\n      let storageRef = this.Firestorage.storage.ref();\n      let imageRef = storageRef.child('image').child('imageName');\n      this.encodeImageUri(imageURI, function(image64){\n        imageRef.putString(image64, 'data_url')\n        .then(snapshot => {\n          resolve(snapshot.downloadURL)\n          alert(snapshot.downloadURL);\n        }, err => {\n          reject(err);\n        })\n      })\n    })\n  }\n  encodeImageUri(imageUri, callback) {\n    var c = document.createElement('canvas');\n    var ctx = c.getContext(\"2d\");\n    var img = new Image();\n    img.onload = function () {\n      var aux:any = this;\n      c.width = aux.width;\n      c.height = aux.height;\n      ctx.drawImage(img, 0, 0);\n      var dataURL = c.toDataURL(\"image/jpeg\");\n      callback(dataURL);\n    };\n    img.src = imageUri;\n  };\n  \n}\n"],"sourceRoot":""}