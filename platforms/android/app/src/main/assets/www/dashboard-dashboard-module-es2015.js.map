{"version":3,"sources":["./src/app/dashboard/dashboard.page.html","./src/app/dashboard/dashboard.module.ts","./src/app/dashboard/dashboard.page.scss","./src/app/dashboard/dashboard.page.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module-es2015.js","sourcesContent":["module.exports = \"<ion-content color=\\\"primary\\\" [scrollEvents]=\\\"true\\\" (ionScroll)=\\\"onScroll($event)\\\">\\n  <div class=\\\"top\\\">\\n        <ion-toolbar color=\\\"primary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button color=\\\"\\\"></ion-menu-button>\\n          </ion-buttons>\\n          <ion-buttons slot=\\\"end\\\">\\n            <ion-icon name=\\\"search\\\" size=\\\"large\\\" (click)=\\\"showsearch()\\\" color=\\\"\\\"></ion-icon>\\n          </ion-buttons>\\n          <ion-searchbar placeholder=\\\"Enter OrderID\\\" *ngIf=\\\"search\\\" [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"setFilteredItems()\\\"></ion-searchbar>\\n          <ion-title  color=\\\"\\\" *ngIf=\\\"!search\\\">Dashboard</ion-title>\\n        </ion-toolbar>\\n\\n      <div >\\n          <ion-row >\\n            <ion-col size=\\\"4\\\" class=\\\"main-nav\\\" tappable (click)=\\\"stock()\\\">\\n            <ion-card class=\\\"card\\\" >\\n              <ion-card-title>\\n                <ion-icon color=\\\"primary\\\" name=\\\"pricetags\\\"></ion-icon>\\n              </ion-card-title>\\n              <label text-center>Stock</label>\\n            </ion-card>\\n          </ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"main-nav\\\" tappable (click)=\\\"sales()\\\"> \\n            <ion-card class=\\\"card\\\" >\\n              <ion-card-title>\\n                <ion-icon color=\\\"primary\\\" name=\\\"pulse\\\"></ion-icon>\\n              </ion-card-title>\\n              <label text-center>Sales</label>\\n            </ion-card>\\n          </ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"main-nav\\\" tappable (click)=\\\"orders()\\\">\\n            <ion-card class=\\\"card\\\" >\\n              <ion-card-title>\\n                <ion-icon color=\\\"primary\\\" name=\\\"podium\\\"></ion-icon>\\n              </ion-card-title>\\n              <label text-center>Orders</label>\\n            </ion-card>\\n          </ion-col>\\n          </ion-row>\\n      </div>\\n </div>\\n  <div class=\\\"body\\\" >\\n    <ion-item color=\\\"light\\\">\\n      <ion-label  color=\\\"primary\\\">Orders Due Today</ion-label>&nbsp;&nbsp;\\n      <ion-input style=\\\"padding-top: 10px;\\\" clearInput type=\\\"text\\\" placeholder=\\\"Enter OrderID\\\" color=\\\"medium\\\" *ngIf=\\\"inputSearch\\\"[(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"setFilteredItems()\\\"></ion-input>\\n      <ion-icon name=\\\"search\\\" color=\\\"medium\\\" *ngIf=\\\"inputSearch\\\" ></ion-icon>\\n    </ion-item>\\n    <div  *ngIf=\\\"loader\\\" text-center> \\n      <ion-spinner class=\\\"loader\\\" name=\\\"lines\\\" color=\\\"primary\\\"></ion-spinner> \\n    </div>\\n    <div *ngIf=\\\"Myorders.length == 0\\\" style=\\\"padding-top: 50px;text-align: center;\\\">\\n      <ion-label color=\\\"medium\\\">No Order is due Today</ion-label>\\n    </div>\\n      \\n      <div *ngIf=\\\"!loader\\\" >\\n          <ion-card padding *ngFor=\\\"let item of Myorders \\\"  (click)=\\\"openOrder(item)\\\" style=\\\"background-color:#ffff;\\\"> \\n            <ion-icon name=\\\"funnel\\\" style=\\\"float: left;\\\" color=\\\"primary\\\"></ion-icon><ion-label style=\\\"float: right;\\\" color=\\\"primary\\\">{{item.OrderID}}</ion-label><br><br>\\n            <div style=\\\"text-align:start;\\\">\\n              Order for {{item.products[0].product}}, {{item.products[1].product}},  ...\\n            </div>\\n            <span style=\\\"float: left;margin-top: 10px;\\\">\\n              {{item.username}}\\n            </span>\\n            <span style=\\\"float: right;bottom:0;margin-top: 10px;\\\">\\n              <!-- <span class=\\\"pick\\\">Pick up :</span> {{item.Date.toDate() | date: 'mm'}} mins -->\\n              <span class=\\\"pick\\\">Pick up : {{item.pickHour}}:{{item.pickMins}} {{item.pickDay}}</span> \\n            </span>\\n          </ion-card>\\n      </div>\\n  </div>\\n\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","module.exports = \".card {\\n  border-radius: 15px;\\n  text-align: center;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n  background-color: white;\\n}\\n\\nion-card {\\n  border-radius: 15px;\\n}\\n\\n.main-nav {\\n  -o-object-position: center;\\n     object-position: center;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n\\n.loader {\\n  margin-top: 40%;\\n}\\n\\n.pick {\\n  color: var(--ion-color-success);\\n}\\n\\n.name {\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  text-align: center;\\n}\\n\\n.top {\\n  background-color: var(--ion-color-primary);\\n}\\n\\n.body {\\n  border-radius: 20px 20px 0px 0px;\\n  background-color: var(--ion-color-light);\\n  height: 10000px;\\n  margin-bottom: 0px;\\n  padding-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL0t3aWtfTWVyY2hhbnQvc3JjL2FwcC9kYXNoYm9hcmQvZGFzaGJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLHVCQUFBO0FDQ0o7O0FERUE7RUFDSSxtQkFBQTtBQ0NKOztBRENBO0VBQ0ksMEJBQUE7S0FBQSx1QkFBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7QUNFSjs7QURBQTtFQUVJLGVBQUE7QUNFSjs7QURBQTtFQUNJLCtCQUFBO0FDR0o7O0FEREE7RUFDSSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0Esa0JBQUE7QUNJSjs7QURGQTtFQUNJLDBDQUFBO0FDS0o7O0FESEE7RUFDSSxnQ0FBQTtFQUNBLHdDQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNNSiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9kYXNoYm9hcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmR7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgXG59XG5pb24tY2FyZHtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xufVxuLm1haW4tbmF2e1xuICAgIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG59XG4ubG9hZGVyIHtcbiAgICBcbiAgICBtYXJnaW4tdG9wOiA0MCU7XG59XG4ucGlja3tcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xufVxuLm5hbWV7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLnRvcHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uYm9keXtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4IDIwcHggMHB4IDBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpOyBcbiAgICBoZWlnaHQ6IDEwMDAwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xufSIsIi5jYXJkIHtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG5pb24tY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG59XG5cbi5tYWluLW5hdiB7XG4gIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xuICBvYmplY3QtZml0OiBjb250YWluO1xufVxuXG4ubG9hZGVyIHtcbiAgbWFyZ2luLXRvcDogNDAlO1xufVxuXG4ucGljayB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG59XG5cbi5uYW1lIHtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnRvcCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cblxuLmJvZHkge1xuICBib3JkZXItcmFkaXVzOiAyMHB4IDIwcHggMHB4IDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgaGVpZ2h0OiAxMDAwMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Router } from '@angular/router';\nimport { FirestoreService } from '../services/firestore.service';\nimport { Shop } from '../models/shops' ;\nimport { ModalController } from '@ionic/angular';\nimport { OrdersPage } from '../orders/orders.page';\nimport { User } from '../models/user';\nimport { DatabaseService } from '../database.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n\n// variables\n\n      Myorders = [];\n      filterOrder ;\n      searchTerm;\n      date: Date ;\n      shopname;\n      userID;\n      login = false ;\n      loader = true ;\n      search = false ;\n      inputSearch = false ;\n\n  constructor(\n        private fs: AngularFirestore,\n        private navCtrl: Router,\n        private service: FirestoreService,\n        private modal: ModalController,\n        private db: DatabaseService\n  ) {\n        this.service.hiddenTabs = false ;\n        this.date = new Date() ;\n  }\n  // scroll events\n  onScroll(event) {\n    if (event.detail.scrollTop === 148) {\n      this.inputSearch = true ;\n    } else {\n      this.inputSearch = false ;\n    }\n  }\n// ionviewwill enter function\nionViewWillEnter() {\n  this.getShop();\n}\n  // oninit method\n\n        ngOnInit() {\n          this.userID = localStorage.getItem('userID') ;\n          console.log(this.userID);\n          if (this.userID != null) {\n            // this.getOrders();\n          } else {\n            this.login = true ;\n          }\n        }\n  // show searchbar\n        showsearch() {\n          if (this.search === false ) {\n            this.search = true ;\n          } else {\n            this.search = false ;\n          }\n        }\n  // filter searchbar\n        setFilteredItems() {\n          if (this.searchTerm !== null || this.searchTerm !== '') {\n            this.Myorders = this.filterItems();\n            console.log(this.Myorders);\n          }\n        }\n        filterItems() {\n          return this.filterOrder.filter(item => {\n            return item.OrderID.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1;\n          });\n        }\n\n\n// to sales page\n        sales() {\n          this.service.hiddenTabs = true ;\n          this.navCtrl.navigate(['tabs/sales']);\n        }\n// to stock page\n        stock() {\n          this.service.hiddenTabs = true ;\n          this.navCtrl.navigate(['tabs/stock']);\n        }\n// to orders stats page\n        orders() {\n          this.service.hiddenTabs = true ;\n          this.navCtrl.navigate(['tabs/order-stats']);\n        }\n\n\n// get the shop name\n       async  getShop() {\n         this.shopname = localStorage.getItem('shop');\n         console.log(this.shopname);\n         this.getOrders();\n        }\n// get orders from firestore\n        getOrders() {\n          this.service.getTodaysOrders(this.shopname).valueChanges().subscribe(res => {\n              this.Myorders = res ;\n              this.filterOrder = res ;\n              console.log(this.Myorders);\n              this.loader = false ;\n            });\n          }\n// view order\n       openOrder(item) {\n        console.log(item);\n        this.service.setItems(item);\n        this.service.hiddenTabs = true ;\n        this.navCtrl.navigate(['tabs/orders']);\n      }\n\n}\n"],"sourceRoot":""}