(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{Coe3:function(l,n,t){"use strict";t.r(n);var o=t("CcnG"),u=t("mrSG"),e=t("YWyl"),r=t("ZZ/e"),i=t("Uncc"),c=t("c92J"),s=function(){function l(l,n,t,o,u,e){this.navCtrl=l,this.service=n,this.Asc=t,this.modal=o,this.fs=u,this.db=e,this.products=[],this.show=!1,this.service.hiddenTabs=!0}return l.prototype.ionViewDidEnter=function(){var l=this;this.shopname=localStorage.getItem("shop"),console.log(this.shopname),this.service.getallcategories(this.shopname).valueChanges().subscribe((function(n){l.categories=n,l.show=!0,console.log(l.categories)})),this.getproducts()},l.prototype.ngOnInit=function(){},l.prototype.getproducts=function(){var l=this;this.service.getallProducts(this.shopname).subscribe((function(n){l.products=n,l.unfilteredProducts=n,console.log("products",l.products)}))},l.prototype.filterProducts=function(){null===this.category&&void 0===this.category||(console.log(this.category),this.products=this.filterItems(),console.log(this.products))},l.prototype.filterItems=function(){var l=this;return this.unfilteredProducts.filter((function(n){return console.log(n.category),n.category.toLowerCase().indexOf(l.category.toLowerCase())>-1}))},l.prototype.home=function(){this.service.hiddenTabs=!1,this.navCtrl.navigate(["tabs/dashboard"])},l.prototype.sortCategory=function(){return u.__awaiter(this,void 0,void 0,(function(){var l=this;return u.__generator(this,(function(n){switch(n.label){case 0:return[4,this.Asc.create({header:"Sort category by Price in",buttons:[{text:"Ascending Order",handler:function(){console.log("asc"),l.products=l.products.sort((function(l,n){return l.currentprice-n.currentprice}))}},{text:"Descending Order",handler:function(){console.log("asc"),l.products=l.products.sort((function(l,n){return n.currentprice-l.currentprice}))}}]})];case 1:return n.sent().present(),[2]}}))}))},l.prototype.sortByPriceAsc=function(l,n){return l.currentprice-n.currentprice},l.prototype.sortByPriceDsc=function(l,n){return n.currentprice-l.currentprice},l.prototype.settings=function(){return u.__awaiter(this,void 0,void 0,(function(){return u.__generator(this,(function(l){switch(l.label){case 0:return[4,this.modal.create({component:i.a,componentProps:{}})];case 1:return l.sent().present(),[2]}}))}))},l.prototype.addProduct=function(){this.navCtrl.navigate(["tabs/products"])},l.prototype.viewProduct=function(l){this.service.hiddenTabs=!0,this.service.setProduct(l),console.log(l),this.navCtrl.navigate(["tabs/productmodal"])},l}(),a=function(){return function(){}}(),b=t("pMnS"),p=t("oBZk"),g=t("gIcY"),h=t("Ip0R"),d=t("ZYCi"),m=t("fvl4"),f=o.rb({encapsulation:0,styles:[[".card-main[_ngcontent-%COMP%]{color:var(--ion-color-medium);background-color:#fff;border-radius:20px 20px 0 0;width:100%;position:fixed;bottom:0;top:100px;overflow-y:scroll}.image[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;width:20px;height:20px;float:right;right:0;margin-right:5px}.title[_ngcontent-%COMP%]{font-weight:700;font-size:15px;color:var(--ion-color-primary);margin-left:5px}ion-select[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.float[_ngcontent-%COMP%]{float:right;color:var(--ion-color-primary)}.content[_ngcontent-%COMP%]{margin-top:20px}.content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1.1em;color:var(--ion-color-primary)}.prTag[_ngcontent-%COMP%]{text-align:center;position:absolute;padding-top:10px;padding-bottom:10px;width:100%;bottom:0;background-color:var(--ion-color-primary)}.prTag[_ngcontent-%COMP%]   #lb[_ngcontent-%COMP%]{border-radius:10px;font-weight:700;color:var(--ion-color-primary);width:85%;background-color:#fff;padding:5px 30px}.pr-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.1em;text-transform:capitalize}.pr-price[_ngcontent-%COMP%]{font-size:.8em;color:grey}.spinner[_ngcontent-%COMP%]{margin-top:70px;margin-left:45%}.section-two[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.stock[_ngcontent-%COMP%]{border-radius:10px}.stock[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-weight:700;padding-top:20px}.stock[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:1em}.stock[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1.7em;font-weight:700;float:right}"]],data:{}});function v(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,4,"ion-segment-button",[],null,null,null,p.wb,p.E)),o.sb(1,49152,null,0,r.ob,[o.h,o.k,o.z],{value:[0,"value"]},null),(l()(),o.tb(2,0,null,0,2,"ion-label",[],null,null,null,p.ob,p.v)),o.sb(3,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(4,0,["",""]))],(function(l,n){l(n,1,0,o.xb(1,"",n.context.$implicit,""))}),(function(l,n){l(n,4,0,n.context.$implicit)}))}function k(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,13,"ion-segment",[["scrollable",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(l,n,t){var u=!0,e=l.component;return"ionBlur"===n&&(u=!1!==o.Fb(l,1)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==o.Fb(l,1)._handleChangeEvent(t.target)&&u),"ngModelChange"===n&&(u=!1!==(e.category=t)&&u),"ionChange"===n&&(u=!1!==e.filterProducts()&&u),u}),p.xb,p.D)),o.sb(1,16384,null,0,r.Rb,[o.k],null,null),o.Kb(1024,null,g.m,(function(l){return[l]}),[r.Rb]),o.sb(3,671744,null,0,g.r,[[8,null],[8,null],[8,null],[6,g.m]],{model:[0,"model"]},{update:"ngModelChange"}),o.Kb(2048,null,g.n,null,[g.r]),o.sb(5,16384,null,0,g.o,[[4,g.n]],null,null),o.sb(6,49152,null,0,r.nb,[o.h,o.k,o.z],{scrollable:[0,"scrollable"]},null),(l()(),o.tb(7,0,null,0,4,"ion-segment-button",[["selected",""],["value",""]],null,null,null,p.wb,p.E)),o.sb(8,49152,null,0,r.ob,[o.h,o.k,o.z],{value:[0,"value"]},null),(l()(),o.tb(9,0,null,0,2,"ion-label",[],null,null,null,p.ob,p.v)),o.sb(10,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(-1,0,["All"])),(l()(),o.ib(16777216,null,0,1,null,v)),o.sb(13,278528,null,0,h.l,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,3,0,t.category),l(n,6,0,""),l(n,8,0,""),l(n,13,0,t.categories.categories)}),(function(l,n){l(n,0,0,o.Fb(n,5).ngClassUntouched,o.Fb(n,5).ngClassTouched,o.Fb(n,5).ngClassPristine,o.Fb(n,5).ngClassDirty,o.Fb(n,5).ngClassValid,o.Fb(n,5).ngClassInvalid,o.Fb(n,5).ngClassPending)}))}function y(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,1,"ion-spinner",[["class","spinner"],["color","primary"],["name","circles"]],null,null,null,p.Db,p.K)),o.sb(1,49152,null,0,r.ub,[o.h,o.k,o.z],{color:[0,"color"],name:[1,"name"]},null)],(function(l,n){l(n,1,0,"primary","circles")}),null)}function P(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,0,"img",[["alt","product image"],["style","height: 150px;"]],[[8,"src",4]],[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.viewProduct(l.parent.context.$implicit)&&o),o}),null,null))],null,(function(l,n){l(n,0,0,o.xb(1,"",n.parent.context.$implicit.image,""))}))}function x(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,19,"ion-col",[["size","6"]],null,null,null,p.cb,p.j)),o.sb(1,49152,null,0,r.v,[o.h,o.k,o.z],{size:[0,"size"]},null),(l()(),o.tb(2,0,null,0,17,"ion-card",[["style","height: 200px;"]],null,null,null,p.ab,p.f)),o.sb(3,49152,null,0,r.o,[o.h,o.k,o.z],null,null),(l()(),o.ib(16777216,null,0,1,null,P)),o.sb(5,16384,null,0,h.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.tb(6,0,null,0,9,"ion-card-content",[],null,null,null,p.Y,p.g)),o.sb(7,49152,null,0,r.p,[o.h,o.k,o.z],null,null),(l()(),o.tb(8,0,null,0,2,"ion-label",[["class","pr-name"]],null,null,null,p.ob,p.v)),o.sb(9,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(10,0,["",""])),(l()(),o.tb(11,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),o.tb(12,0,null,0,2,"ion-label",[["class","pr-price"]],null,null,null,p.ob,p.v)),o.sb(13,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(14,0,["Ksh ",""])),(l()(),o.tb(15,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),o.tb(16,0,null,0,3,"div",[["class","prTag"]],null,null,null,null,null)),(l()(),o.tb(17,0,null,null,2,"ion-label",[["id","lb"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.viewProduct(l.context.$implicit)&&o),o}),p.ob,p.v)),o.sb(18,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(-1,0,["View "]))],(function(l,n){l(n,1,0,"6"),l(n,5,0,void 0!==n.context.$implicit.image)}),(function(l,n){l(n,10,0,n.context.$implicit.Meal),l(n,14,0,n.context.$implicit.currentprice)}))}function C(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,55,"ion-content",[["color","primary"],["style","background-color: var(--ion-color-primary);"]],null,null,null,p.db,p.k)),o.sb(1,49152,null,0,r.w,[o.h,o.k,o.z],{color:[0,"color"]},null),(l()(),o.tb(2,0,null,0,13,"ion-toolbar",[["color","primary"]],null,null,null,p.Lb,p.S)),o.sb(3,49152,null,0,r.Eb,[o.h,o.k,o.z],{color:[0,"color"]},null),(l()(),o.tb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,p.X,p.e)),o.sb(5,49152,null,0,r.n,[o.h,o.k,o.z],null,null),(l()(),o.tb(6,0,null,0,1,"ion-icon",[["name","arrow-back"],["style","width: 20px; height: 20px; margin-left: 5px;"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.home()&&o),o}),p.jb,p.q)),o.sb(7,49152,null,0,r.E,[o.h,o.k,o.z],{name:[0,"name"]},null),(l()(),o.tb(8,0,null,0,3,"ion-title",[["text-center",""]],null,null,null,p.Jb,p.Q)),o.sb(9,49152,null,0,r.Cb,[o.h,o.k,o.z],null,null),o.sb(10,16384,null,0,r.f,[o.k],null,null),(l()(),o.Nb(-1,0,["Stock"])),(l()(),o.tb(12,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,p.X,p.e)),o.sb(13,49152,null,0,r.n,[o.h,o.k,o.z],null,null),(l()(),o.tb(14,0,null,0,1,"ion-icon",[["name","settings"],["style","width: 20px; height: 20px; margin-right: 5px;"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.settings()&&o),o}),p.jb,p.q)),o.sb(15,49152,null,0,r.E,[o.h,o.k,o.z],{name:[0,"name"]},null),(l()(),o.tb(16,0,null,0,33,"div",[["class","card-main"],["style","background-color: white;"]],null,null,null,null,null)),(l()(),o.tb(17,0,null,null,17,"ion-card-title",[["no-padding",""]],null,null,null,p.Z,p.h)),o.sb(18,49152,null,0,r.s,[o.h,o.k,o.z],null,null),o.sb(19,16384,null,0,r.f,[o.k],null,null),(l()(),o.tb(20,0,null,0,10,"ion-row",[["style","margin-top: 10px;"]],null,null,null,p.ub,p.B)),o.sb(21,49152,null,0,r.lb,[o.h,o.k,o.z],null,null),(l()(),o.tb(22,0,null,0,4,"ion-col",[],null,null,null,p.cb,p.j)),o.sb(23,49152,null,0,r.v,[o.h,o.k,o.z],null,null),(l()(),o.tb(24,0,null,0,2,"ion-label",[["class","title"]],null,null,null,p.ob,p.v)),o.sb(25,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(-1,0,["Choose category"])),(l()(),o.tb(27,0,null,0,3,"ion-col",[],null,null,null,p.cb,p.j)),o.sb(28,49152,null,0,r.v,[o.h,o.k,o.z],null,null),(l()(),o.tb(29,0,null,0,1,"ion-icon",[["class","image"],["color","primary"],["name","pricetags"]],null,null,null,p.jb,p.q)),o.sb(30,49152,null,0,r.E,[o.h,o.k,o.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),o.tb(31,0,null,0,3,"ion-row",[],null,null,null,p.ub,p.B)),o.sb(32,49152,null,0,r.lb,[o.h,o.k,o.z],null,null),(l()(),o.ib(16777216,null,0,1,null,k)),o.sb(34,16384,null,0,h.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.tb(35,0,null,null,14,"ion-card-content",[["class","content"]],null,null,null,p.Y,p.g)),o.sb(36,49152,null,0,r.p,[o.h,o.k,o.z],null,null),(l()(),o.tb(37,0,null,0,12,"div",[],null,null,null,null,null)),(l()(),o.tb(38,0,null,null,5,"div",[["class","section-two"]],null,null,null,null,null)),(l()(),o.tb(39,0,null,null,2,"ion-label",[],null,null,null,p.ob,p.v)),o.sb(40,49152,null,0,r.P,[o.h,o.k,o.z],null,null),(l()(),o.Nb(-1,0,["Available products"])),(l()(),o.tb(42,0,null,null,1,"ion-icon",[["class","float"],["name","git-compare"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.sortCategory()&&o),o}),p.jb,p.q)),o.sb(43,49152,null,0,r.E,[o.h,o.k,o.z],{name:[0,"name"]},null),(l()(),o.ib(16777216,null,null,1,null,y)),o.sb(45,16384,null,0,h.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.tb(46,0,null,null,3,"ion-row",[],null,null,null,p.ub,p.B)),o.sb(47,49152,null,0,r.lb,[o.h,o.k,o.z],null,null),(l()(),o.ib(16777216,null,0,1,null,x)),o.sb(49,278528,null,0,h.l,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(l()(),o.tb(50,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.addProduct()&&o),o}),p.fb,p.l)),o.sb(51,49152,null,0,r.y,[o.h,o.k,o.z],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),o.tb(52,0,null,0,3,"ion-fab-button",[["size","small"]],null,null,null,p.eb,p.m)),o.sb(53,49152,null,0,r.z,[o.h,o.k,o.z],{size:[0,"size"]},null),(l()(),o.tb(54,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,p.jb,p.q)),o.sb(55,49152,null,0,r.E,[o.h,o.k,o.z],{name:[0,"name"]},null)],(function(l,n){var t=n.component;l(n,1,0,"primary"),l(n,3,0,"primary"),l(n,7,0,"arrow-back"),l(n,15,0,"settings"),l(n,30,0,"primary","pricetags"),l(n,34,0,t.show),l(n,43,0,"git-compare"),l(n,45,0,0==t.products.length),l(n,49,0,t.products),l(n,51,0,"end","bottom"),l(n,53,0,"small"),l(n,55,0,"add")}),null)}function z(l){return o.Pb(0,[(l()(),o.tb(0,0,null,null,1,"app-stock",[],null,null,null,C,f)),o.sb(1,114688,null,0,s,[d.m,e.a,r.a,r.Kb,m.a,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=o.pb("app-stock",s,z,{},{},[]);t.d(n,"StockPageModuleNgFactory",(function(){return O}));var O=o.qb(a,[],(function(l){return o.Cb([o.Db(512,o.j,o.bb,[[8,[b.a,w]],[3,o.j],o.x]),o.Db(4608,h.o,h.n,[o.u,[2,h.w]]),o.Db(4608,g.y,g.y,[]),o.Db(4608,r.c,r.c,[o.z,o.g]),o.Db(4608,r.Kb,r.Kb,[r.c,o.j,o.q]),o.Db(4608,r.Pb,r.Pb,[r.c,o.j,o.q]),o.Db(1073742336,h.c,h.c,[]),o.Db(1073742336,g.x,g.x,[]),o.Db(1073742336,g.j,g.j,[]),o.Db(1073742336,r.Gb,r.Gb,[]),o.Db(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),o.Db(1073742336,a,a,[]),o.Db(1024,d.k,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);