(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{THFJ:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=t("mrSG"),o=t("YWyl"),r=t("c92J"),i=t("ZZ/e"),s=t("bR2Y"),c=t("hnS/"),a=function(){function l(l,n,t,u,e){var o=this;this.service=l,this.navCtrl=n,this.db=t,this.modal=u,this.call=e,this.top="past",this.open=!1,this.past=!0,this.ready=!0,this.canceled=!1,this.myOpenOrders=[],this.CanceledOrders=[],this.ReadyOrders=[],this.OpenOrderForFilter=[],this.TotalPastOrders=0,this.TotalOpenOrders=0,this.loader=!0,this.date=new Date,this.service.hiddenTabs=!0,this.customPickerOptions={buttons:[{text:"Cancel",handler:function(){return console.log("Clicked Log. Do not Dismiss."),!1}},{text:"Done",handler:function(l){var n=Number(l.day.text);console.log("=====BUTTON====="),console.log(n),o.myOpenOrders=o.filterByDate(n)}}]}}return l.prototype.ionViewWillEnter=function(){this.shopname=this.db.getshopname(),console.log(this.shopname),this.getOpenOrders()},l.prototype.ngOnInit=function(){},l.prototype.home=function(){this.service.hiddenTabs=!1,this.navCtrl.navigate(["tabs/dashboard"])},l.prototype.DaysegmentChanged=function(l){switch(l.detail.value){case"Today":case"Mon":case"Tue":case"Wed":case"Thur":case"Fri":case"Sat":case"Sun":this.filterOpenOders(l.detail.value),console.log(l.detail.value)}},l.prototype.TopsegmentChanged=function(l){switch(l.detail.value){case"canceled":this.past=!0,this.ready=!1,this.canceled=!0,console.log(l.detail.value);break;case"ready":this.past=!0,this.ready=!0,this.canceled=!1,console.log(l.detail.value)}},l.prototype.openOrders=function(){"open"!==this.top&&(this.top="open",this.open=!0,this.past=!1,this.canceled=!1,this.ready=!1,this.filterOpenOders("Today"))},l.prototype.pastOrders=function(){"past"!==this.top&&(this.top="past",this.open=!1,this.past=!0,this.ready=!0)},l.prototype.getOpenOrders=function(){var l=this;console.log("=======TIMESTAMP===="),console.log(this.date),this.service.getReadyOrders(this.shopname).valueChanges().subscribe((function(n){l.myOpenOrders=n,l.OpenOrderForFilter=n,l.TotalOpenOrders=l.myOpenOrders.length,l.loader=!1,l.formatDate(),l.myOpenOrders=l.filterByDate(l.date.getDate()),console.log("=========FILTERING =========="),console.log(l.myOpenOrders),console.log("open orders"+l.myOpenOrders)}))},l.prototype.formatDate=function(){this.OpenOrderForFilter.forEach((function(l){l.Date=l.Date.toDate().getDate()})),console.log("=== MY OPEN ORDER ====="),console.log(this.OpenOrderForFilter)},l.prototype.filterByDate=function(l){return this.OpenOrderForFilter.filter((function(n){return console.log("=== CHECK DATES ====="),console.log(n.Date),console.log(l),n.Date==l}))},l.prototype.getcanceledOrders=function(){var l=this;this.service.getCanceledOrders(this.shopname).valueChanges().subscribe((function(n){l.CanceledOrders=n,l.loader=!1,console.log("canceled orders"+l.CanceledOrders)}))},l.prototype.getreadyOders=function(){var l=this;this.service.getReadyOrders(this.shopname).valueChanges().subscribe((function(n){l.ReadyOrders=n,console.log("========DATE HERE======"),console.log(n),l.loader=!1,l.TotalPastOrders=l.ReadyOrders.length+l.CanceledOrders.length,console.log("ready orders"+l.ReadyOrders)}))},l.prototype.filterOpenOders=function(l){var n=[];this.OpenOrderForFilter.forEach((function(t){t.pickDay===l&&n.push(t)})),this.loader=!1,this.myOpenOrders=n},l.prototype.showMore=function(l){var n=this;l.show=!0,this.service.getNumber(l.userID).subscribe((function(l){n.CustomerNumber=l.phone,console.log("number",n.CustomerNumber)}))},l.prototype.showLess=function(l){l.show=!1,console.log("less")},l.prototype.viewOrder=function(l){return e.__awaiter(this,void 0,void 0,(function(){var n;return e.__generator(this,(function(t){switch(t.label){case 0:return l.phone=this.CustomerNumber,[4,this.modal.create({component:s.a,componentProps:{data:l}})];case 1:return n=t.sent(),console.log("VIEW MORE"),console.log(l),console.log("VIEW MORE"),[4,n.present()];case 2:return t.sent(),[2]}}))}))},l.prototype.callCustomer=function(){var l=this.CustomerNumber.toString();this.call.callNumber(l,!0).then((function(l){return console.log("Launched dialer!",l)})).catch((function(l){return console.log("Error launching dialer",l)}))},l}(),p=function(){return function(){}}(),b=t("pMnS"),d=t("oBZk"),h=t("Ip0R"),m=t("gIcY"),f=t("ZYCi"),g=u.rb({encapsulation:0,styles:[["ion-card[_ngcontent-%COMP%]{border-radius:15px;text-align:center;padding:10px 20px}.card-main[_ngcontent-%COMP%]{color:var(--ion-color-medium);background-color:#fff;border-radius:20px 20px 0 0;width:100%;position:fixed;bottom:0;top:100px;overflow-y:scroll}.top[_ngcontent-%COMP%]{text-align:center}.top[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:bolder;font-size:2em}.top[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-weight:700}.active[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.pick[_ngcontent-%COMP%]{color:var(--ion-color-success);text-transform:capitalize}.ready[_ngcontent-%COMP%]{background-color:#06b7f13d}.openOrder[_ngcontent-%COMP%]{position:fixed;bottom:0;overflow-y:scroll;width:100%;top:35%}@media only screen and (max-width:320px){.openOrder[_ngcontent-%COMP%]{top:35%}}"]],data:{}});function y(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,3,"div",[["style","padding-top: 50px;text-align: center;"],["text-center",""]],null,null,null,null,null)),u.sb(1,16384,null,0,i.f,[u.k],null,null),(l()(),u.tb(2,0,null,null,1,"ion-spinner",[["class","loader"],["color","primary"],["name","lines"]],null,null,null,d.Lb,d.O)),u.sb(3,49152,null,0,i.ub,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null)],(function(l,n){l(n,3,0,"primary","lines")}),null)}function O(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"div",[["style","padding-top: 130px;text-align: center;"]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"div",[["style","color: #737373; font-size: 13px;"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["No Order is due Today"]))],null,null)}function k(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"ion-label",[["color","success"]],null,null,null,d.wb,d.z)),u.sb(1,49152,null,0,i.P,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Nb(-1,0,["Ready"]))],(function(l,n){l(n,1,0,"success")}),null)}function v(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"ion-label",[],null,null,null,d.wb,d.z)),u.sb(1,49152,null,0,i.P,[u.h,u.k,u.z],null,null),(l()(),u.Nb(2,0,["",", "]))],null,(function(l,n){l(n,2,0,n.context.$implicit.product)}))}function x(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"span",[["class","pick"]],null,null,null,null,null)),(l()(),u.Nb(1,null,["Delivery To : "," "]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.Location)}))}function D(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"span",[["class","pick"]],null,null,null,null,null)),(l()(),u.Nb(1,null,["Pick up : ",":"," ",""]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.pickHour,n.parent.parent.context.$implicit.pickMins,n.parent.parent.context.$implicit.pickDay)}))}function w(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"ion-icon",[["color","primary"],["name","funnel"],["style","float: left;"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.showMore(l.parent.context.$implicit)&&u),u}),d.ob,d.r)),u.sb(2,49152,null,0,i.E,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.Nb(-1,null,["\xa0 "])),(l()(),u.ib(16777216,null,null,1,null,k)),u.sb(5,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.tb(6,0,null,null,2,"ion-label",[["color","primary"],["style","float: right;"]],null,null,null,d.wb,d.z)),u.sb(7,49152,null,0,i.P,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Nb(8,0,["",""])),(l()(),u.tb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.tb(10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.tb(11,0,null,null,4,"div",[["style","text-align:start;"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,[" Order for "])),(l()(),u.ib(16777216,null,null,1,null,v)),u.sb(14,278528,null,0,h.k,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.Nb(-1,null,[" ... "])),(l()(),u.tb(16,0,null,null,1,"span",[["style","float: left;margin-top: 10px;"]],null,null,null,null,null)),(l()(),u.Nb(17,null,[" "," "])),(l()(),u.tb(18,0,null,null,4,"span",[["style","float: right;bottom:0;margin-top: 10px;"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,x)),u.sb(20,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,D)),u.sb(22,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"primary","funnel"),l(n,5,0,"Ready"==n.parent.context.$implicit.status),l(n,7,0,"primary"),l(n,14,0,n.parent.context.$implicit.products),l(n,20,0,"Deliver it to me"==n.parent.context.$implicit.Delivery),l(n,22,0,"I will pick it"==n.parent.context.$implicit.Delivery)}),(function(l,n){l(n,8,0,n.parent.context.$implicit.OrderID),l(n,17,0,n.parent.context.$implicit.username)}))}function C(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,10,"ion-row",[],null,null,null,d.Cb,d.F)),u.sb(1,49152,null,0,i.lb,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,2,"ion-col",[],null,null,null,d.gb,d.j)),u.sb(3,49152,null,0,i.v,[u.h,u.k,u.z],null,null),(l()(),u.Nb(4,0,[" "," "])),(l()(),u.tb(5,0,null,0,2,"ion-col",[],null,null,null,d.gb,d.j)),u.sb(6,49152,null,0,i.v,[u.h,u.k,u.z],null,null),(l()(),u.Nb(7,0,[" "," "])),(l()(),u.tb(8,0,null,0,2,"ion-col",[],null,null,null,d.gb,d.j)),u.sb(9,49152,null,0,i.v,[u.h,u.k,u.z],null,null),(l()(),u.Nb(10,0,["",""]))],null,(function(l,n){l(n,4,0,n.context.$implicit.product),l(n,7,0,n.context.$implicit.currentprice),l(n,10,0,n.context.$implicit.quantity)}))}function P(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,9,"ion-card-title",[["style","font-size: 15px; color: var(--ion-color-primary);"],["text-center",""]],null,null,null,d.db,d.h)),u.sb(2,49152,null,0,i.s,[u.h,u.k,u.z],null,null),u.sb(3,16384,null,0,i.f,[u.k],null,null),(l()(),u.tb(4,0,null,0,1,"ion-icon",[["color","primary"],["name","arrow-dropup"],["style","float: left;"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.showLess(l.parent.context.$implicit)&&u),u}),d.ob,d.r)),u.sb(5,49152,null,0,i.E,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.Nb(6,0,[" ",""])),(l()(),u.tb(7,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),u.Nb(8,0,[""," "])),(l()(),u.tb(9,0,null,0,1,"ion-icon",[["color","success"],["name","call"],["style","float: right;"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.callCustomer()&&u),u}),d.ob,d.r)),u.sb(10,49152,null,0,i.E,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.tb(11,0,null,null,15,"ion-card-content",[],null,null,null,d.cb,d.g)),u.sb(12,49152,null,0,i.p,[u.h,u.k,u.z],null,null),(l()(),u.ib(16777216,null,0,1,null,C)),u.sb(14,278528,null,0,h.k,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.tb(15,0,null,0,11,"ion-row",[],null,null,null,d.Cb,d.F)),u.sb(16,49152,null,0,i.lb,[u.h,u.k,u.z],null,null),(l()(),u.tb(17,0,null,0,9,"ion-col",[],null,null,null,d.gb,d.j)),u.sb(18,49152,null,0,i.v,[u.h,u.k,u.z],null,null),(l()(),u.tb(19,0,null,0,3,"span",[["style","float: left;bottom:0;margin-top: 10px;color:var(--ion-color-primary);font-weight: bold;"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.viewOrder(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),u.tb(20,0,null,null,2,"ion-label",[],null,null,null,d.wb,d.z)),u.sb(21,49152,null,0,i.P,[u.h,u.k,u.z],null,null),(l()(),u.Nb(-1,0,["View more"])),(l()(),u.tb(23,0,null,0,3,"span",[["style","float: right;bottom:0;margin-top: 10px;color:var(--ion-color-primary)"]],null,null,null,null,null)),(l()(),u.tb(24,0,null,null,2,"span",[["class","pick"]],null,null,null,null,null)),(l()(),u.Nb(25,null,["",""])),u.Jb(26,2)],(function(l,n){l(n,5,0,"primary","arrow-dropup"),l(n,10,0,"success","call"),l(n,14,0,n.parent.context.$implicit.products)}),(function(l,n){l(n,6,0,n.parent.context.$implicit.OrderID),l(n,8,0,n.parent.context.$implicit.username);var t=u.Ob(n,25,0,l(n,26,0,u.Fb(n.parent.parent,0),n.parent.context.$implicit.Date.toDate(),"dd/MM/yyyy"));l(n,25,0,t)}))}function z(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,6,"ion-card",[["padding",""],["style","background-color: white;"]],null,null,null,d.eb,d.f)),u.sb(1,49152,null,0,i.o,[u.h,u.k,u.z],null,null),u.sb(2,16384,null,0,i.f,[u.k],null,null),(l()(),u.ib(16777216,null,0,1,null,w)),u.sb(4,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,0,1,null,P)),u.sb(6,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,!n.context.$implicit.show),l(n,6,0,n.context.$implicit.show)}),null)}function N(l){return u.Pb(0,[u.Hb(0,h.e,[u.u]),(l()(),u.tb(1,0,null,null,44,"ion-content",[["color","primary"],["style","background-color: var(--ion-color-primary);"]],null,null,null,d.hb,d.k)),u.sb(2,49152,null,0,i.w,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.tb(3,0,null,0,20,"ion-toolbar",[["color","primary"],["style","margin-top: 10px;"]],null,null,null,d.Tb,d.W)),u.sb(4,49152,null,0,i.Eb,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.tb(5,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.bb,d.e)),u.sb(6,49152,null,0,i.n,[u.h,u.k,u.z],null,null),(l()(),u.tb(7,0,null,0,1,"ion-icon",[["name","arrow-back"],["style","width: 20px; height: 20px; margin-left: 5px;"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.home()&&u),u}),d.ob,d.r)),u.sb(8,49152,null,0,i.E,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.tb(9,0,null,0,14,"ion-title",[["style","margin-right: 10px;"],["text-center",""]],null,null,null,d.Rb,d.U)),u.sb(10,49152,null,0,i.Cb,[u.h,u.k,u.z],null,null),u.sb(11,16384,null,0,i.f,[u.k],null,null),(l()(),u.tb(12,0,null,0,11,"ion-item",[["no-padding",""],["style","font-size: 14px; --background: var(--ion-color-primary); color: white;"]],null,null,null,d.vb,d.t)),u.sb(13,49152,null,0,i.J,[u.h,u.k,u.z],null,null),u.sb(14,16384,null,0,i.f,[u.k],null,null),(l()(),u.tb(15,0,null,0,3,"ion-label",[["no-padding",""],["style","font-size: 14px; background-color: var(--ion-color-primary);"]],null,null,null,d.wb,d.z)),u.sb(16,49152,null,0,i.P,[u.h,u.k,u.z],null,null),u.sb(17,16384,null,0,i.f,[u.k],null,null),(l()(),u.Nb(-1,0,["Performance for this month"])),(l()(),u.tb(19,0,null,0,4,"ion-datetime",[["displayFormat","DDDD"],["no-padding",""]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Fb(l,22)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Fb(l,22)._handleChangeEvent(t.target)&&e),e}),d.ib,d.l)),u.Kb(5120,null,m.m,(function(l){return[l]}),[i.Rb]),u.sb(21,49152,null,0,i.x,[u.h,u.k,u.z],{displayFormat:[0,"displayFormat"],pickerOptions:[1,"pickerOptions"],value:[2,"value"]},null),u.sb(22,16384,null,0,i.Rb,[u.k],null,null),u.sb(23,16384,null,0,i.f,[u.k],null,null),(l()(),u.tb(24,0,null,0,21,"div",[["class","card-main"]],null,null,null,null,null)),(l()(),u.tb(25,0,null,null,12,"ion-card",[["style","background-color: white; margin-top: 20px; border-radius: 10px 10px 10px 10px;"]],null,null,null,d.eb,d.f)),u.sb(26,49152,null,0,i.o,[u.h,u.k,u.z],null,null),(l()(),u.tb(27,0,null,0,10,"ion-row",[],null,null,null,d.Cb,d.F)),u.sb(28,49152,null,0,i.lb,[u.h,u.k,u.z],null,null),(l()(),u.tb(29,0,null,0,8,"ion-col",[["class","top"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.pastOrders()&&u),u}),d.gb,d.j)),u.Kb(512,null,h.s,h.t,[u.s,u.t,u.k,u.D]),u.sb(31,278528,null,0,h.j,[h.s],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Ib(32,{active:0}),u.sb(33,49152,null,0,i.v,[u.h,u.k,u.z],null,null),(l()(),u.tb(34,0,null,0,1,"div",[["style","font-size: 18px; margin-bottom: 10px;"]],null,null,null,null,null)),(l()(),u.Nb(35,null,["",""])),(l()(),u.tb(36,0,null,0,1,"div",[["style","font-size: 14px;"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Past Orders"])),(l()(),u.tb(38,0,null,null,7,"div",[["class","openOrder"],["style","margin-top: -45px;"]],null,null,null,null,null)),(l()(),u.tb(39,0,null,null,6,"div",[["style","margin-top: 60px;"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,y)),u.sb(41,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.sb(43,16384,null,0,h.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,z)),u.sb(45,278528,null,0,h.k,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,2,0,"primary"),l(n,4,0,"primary"),l(n,8,0,"arrow-back"),l(n,21,0,"DDDD",t.customPickerOptions,u.xb(1,"",t.date,""));var e=l(n,32,0,"past"==t.top);l(n,31,0,"top",e),l(n,41,0,t.loader),l(n,43,0,0==t.myOpenOrders.length),l(n,45,0,t.myOpenOrders)}),(function(l,n){l(n,35,0,n.component.TotalPastOrders)}))}function F(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"app-order-stats",[],null,null,null,N,g)),u.sb(1,114688,null,0,a,[o.a,f.m,r.a,i.Kb,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var I=u.pb("app-order-stats",a,F,{},{},[]);t.d(n,"OrderStatsPageModuleNgFactory",(function(){return M}));var M=u.qb(p,[],(function(l){return u.Cb([u.Db(512,u.j,u.bb,[[8,[b.a,I]],[3,u.j],u.x]),u.Db(4608,h.n,h.m,[u.u,[2,h.v]]),u.Db(4608,m.y,m.y,[]),u.Db(4608,i.c,i.c,[u.z,u.g]),u.Db(4608,i.Kb,i.Kb,[i.c,u.j,u.q]),u.Db(4608,i.Pb,i.Pb,[i.c,u.j,u.q]),u.Db(1073742336,h.c,h.c,[]),u.Db(1073742336,m.x,m.x,[]),u.Db(1073742336,m.j,m.j,[]),u.Db(1073742336,i.Gb,i.Gb,[]),u.Db(1073742336,f.o,f.o,[[2,f.t],[2,f.m]]),u.Db(1073742336,p,p,[]),u.Db(1024,f.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);