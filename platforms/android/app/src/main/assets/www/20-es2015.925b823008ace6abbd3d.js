(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"f+ep":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J"),t=e("mrSG"),o=e("ZZ/e"),i=e("Wcq6"),r=e("c92J"),s=e("YWyl"),a=e("Sy1n"),d=e("1JF4"),b=e("P7/M"),c=e("YCZo");class g{constructor(l,n,e,u,t,o,i,r,s,a,d,b,c,g,h){this.db=l,this.loadingController=n,this.toastController=e,this.navCtrl=u,this.events=t,this.alertCtrl=o,this.menuCtrl=i,this.platform=r,this.service=s,this.location=a,this.ref=d,this.oneSignal=b,this.notice=c,this.fs=g,this.fcm=h,this.shouldHeight=document.body.clientHeight+"px",this.data={email:null,password:null},this.passwordType="password",this.passwordIcon="eye-off",this.service.hiddenTabs=!0,this.userId=localStorage.getItem("userID")}ngOnInit(){this.menuCtrl.enable(!1),this.redirect()}redirect(){void 0!==this.userId&&this.navCtrl.navigate(["tabs/dashboard"])}back(){this.service.hiddenTabs=!1,this.menuCtrl.enable(!0),this.location.back()}register(){return t.__awaiter(this,void 0,void 0,(function*(){this.navCtrl.navigate(["/register"])}))}hideShowPassword(){this.passwordType="text"===this.passwordType?"password":"text",this.passwordIcon="eye-off"===this.passwordIcon?"eye":"eye-off"}submit(){this.presentLoading(),this.db.login(this.data.email,this.data.password).then(l=>{this.next(l)},l=>{this.loading.dismiss(),this.presentToast("wrong email and password match","bottom")})}next(l){const n=l.user.uid;console.log("user id is----:"+n),localStorage.setItem("userID",n),this.loading.dismiss(),this.ref.getUserDet(n);let e=this.db.getshopname();this.notice.sendTokenToFirebase(e),this.service.hiddenTabs=!1,this.menuCtrl.enable(!0),this.navCtrl.navigate(["tabs/dashboard"])}presentLoading(){return t.__awaiter(this,void 0,void 0,(function*(){return this.loading=yield this.loadingController.create({message:"Wait ..."}),yield this.loading.present()}))}presentToast(l,n){return t.__awaiter(this,void 0,void 0,(function*(){(yield this.toastController.create({message:l,duration:3e3,position:n})).present()}))}reset(){this.password()}forgotPassword(l){return t.__awaiter(this,void 0,void 0,(function*(){return i.auth().sendPasswordResetEmail(l).then(n=>this.presentToast("Password reset link send to  "+l,"bottom")).catch(n=>this.presentToast("No user record with "+l,"bottom"))}))}password(){return t.__awaiter(this,void 0,void 0,(function*(){(yield this.alertCtrl.create({header:"Password Reset",message:"Enter email address to receive password reset link",inputs:[{name:"email",placeholder:"you@example.com"}],buttons:[{text:"cancel",role:"cansel"},{text:"Send",handler:l=>{let n=l.email;console.log(n),this.forgotPassword(n)}}]})).present()}))}}class h{}var p=e("pMnS"),m=e("oBZk"),v=e("s7LF"),f=e("iInd"),x=e("SVse"),C=e("Xr7G"),w=u.pb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{font-size:13px;text-transform:none!important}.logo-background-color[_ngcontent-%COMP%]{border-bottom-left-radius:350px 30px;border-bottom-right-radius:350px 40px;background-color:#00ade5}.logo-background-color[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:35%;padding-top:10px}.logo-background-color[_ngcontent-%COMP%]   .top-sign-in[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:-10px;padding-bottom:50px}.bg-text[_ngcontent-%COMP%]{margin-top:25px;padding:20px}.button-sign-in[_ngcontent-%COMP%]{font-size:15px;border-radius:15px;color:#fff;background-color:#00ade5;width:100%;height:47px}ion-item[_ngcontent-%COMP%]{font-size:15px;border-radius:15px}hr[_ngcontent-%COMP%]{height:2px;background-color:#e4e4e4;margin-top:10px}.vertical-line[_ngcontent-%COMP%]{border-left:2px solid #e4e4e4;height:50px}"]],data:{}});function q(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,68,"ion-content",[],null,null,null,m.cb,m.k)),u.qb(1,49152,null,0,o.w,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,3,"div",[["class","logo-background-color"]],null,null,null,null,null)),(l()(),u.rb(3,0,null,null,0,"img",[["class","logo"],["src","../../app/../assets/images/login-icon.png"]],null,null,null,null,null)),(l()(),u.rb(4,0,null,null,1,"h2",[["class","top-sign-in"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["SIGN IN"])),(l()(),u.rb(6,0,null,0,62,"div",[["class","bg-text"]],null,null,null,null,null)),(l()(),u.rb(7,0,null,null,61,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Db(l,9).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Db(l,9).onReset()&&t),t}),null,null)),u.qb(8,16384,null,0,v.x,[],null,null),u.qb(9,4210688,[["loginform",4]],0,v.p,[[8,null],[8,null]],null,null),u.Hb(2048,null,v.b,null,[v.p]),u.qb(11,16384,null,0,v.o,[[4,v.b]],null,null),(l()(),u.rb(12,0,null,null,16,"ion-list",[],null,null,null,m.ob,m.w)),u.qb(13,49152,null,0,o.Q,[u.h,u.k,u.x],null,null),(l()(),u.rb(14,0,null,0,14,"ion-item",[["color","medium"]],null,null,null,m.mb,m.s)),u.qb(15,49152,null,0,o.J,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(16,0,null,0,3,"ion-label",[["color","primary"]],null,null,null,m.nb,m.v)),u.qb(17,49152,null,0,o.P,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(18,0,null,0,1,"ion-icon",[["color","primary"],["name","mail"],["size","small"],["slot","start"]],null,null,null,m.ib,m.q)),u.qb(19,49152,null,0,o.E,[u.h,u.k,u.x],{color:[0,"color"],name:[1,"name"],size:[2,"size"]},null),(l()(),u.rb(20,0,null,0,8,"ion-input",[["clearInput",""],["name","email"],["placeholder","Email"],["required",""],["style","color: black; height: 47px;"],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0,o=l.component;return"ionBlur"===n&&(t=!1!==u.Db(l,23)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Db(l,23)._handleInputEvent(e.target)&&t),"ngModelChange"===n&&(t=!1!==(o.data.email=e)&&t),t}),m.jb,m.r)),u.qb(21,16384,null,0,v.s,[],{required:[0,"required"]},null),u.Hb(1024,null,v.k,(function(l){return[l]}),[v.s]),u.qb(23,16384,null,0,o.Sb,[u.k],null,null),u.Hb(1024,null,v.l,(function(l){return[l]}),[o.Sb]),u.qb(25,671744,null,0,v.q,[[2,v.b],[6,v.k],[8,null],[6,v.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,v.m,null,[v.q]),u.qb(27,16384,null,0,v.n,[[4,v.m]],null,null),u.qb(28,49152,null,0,o.I,[u.h,u.k,u.x],{clearInput:[0,"clearInput"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"],type:[4,"type"]},null),(l()(),u.rb(29,0,null,null,18,"ion-list",[],null,null,null,m.ob,m.w)),u.qb(30,49152,null,0,o.Q,[u.h,u.k,u.x],null,null),(l()(),u.rb(31,0,null,0,16,"ion-item",[["color","medium"]],null,null,null,m.mb,m.s)),u.qb(32,49152,null,0,o.J,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(33,0,null,0,3,"ion-label",[["color","primary"]],null,null,null,m.nb,m.v)),u.qb(34,49152,null,0,o.P,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(35,0,null,0,1,"ion-icon",[["color","primary"],["name","lock"],["size","small"],["slot","start"]],null,null,null,m.ib,m.q)),u.qb(36,49152,null,0,o.E,[u.h,u.k,u.x],{color:[0,"color"],name:[1,"name"],size:[2,"size"]},null),(l()(),u.rb(37,0,null,0,1,"ion-icon",[["color","primary"],["size","small"],["slot","end"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.hideShowPassword()&&u),u}),m.ib,m.q)),u.qb(38,49152,null,0,o.E,[u.h,u.k,u.x],{color:[0,"color"],name:[1,"name"],size:[2,"size"]},null),(l()(),u.rb(39,0,null,0,8,"ion-input",[["clearOnEdit","false"],["name","password"],["placeholder","Password"],["required",""],["style","color: black; height: 47px;"],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0,o=l.component;return"ionBlur"===n&&(t=!1!==u.Db(l,42)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Db(l,42)._handleInputEvent(e.target)&&t),"ngModelChange"===n&&(t=!1!==(o.data.password=e)&&t),t}),m.jb,m.r)),u.qb(40,16384,null,0,v.s,[],{required:[0,"required"]},null),u.Hb(1024,null,v.k,(function(l){return[l]}),[v.s]),u.qb(42,16384,null,0,o.Sb,[u.k],null,null),u.Hb(1024,null,v.l,(function(l){return[l]}),[o.Sb]),u.qb(44,671744,null,0,v.q,[[2,v.b],[6,v.k],[8,null],[6,v.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,v.m,null,[v.q]),u.qb(46,16384,null,0,v.n,[[4,v.m]],null,null),u.qb(47,49152,null,0,o.I,[u.h,u.k,u.x],{clearOnEdit:[0,"clearOnEdit"],name:[1,"name"],placeholder:[2,"placeholder"],required:[3,"required"],type:[4,"type"]},null),(l()(),u.rb(48,0,null,null,8,"ion-list",[],null,null,null,m.ob,m.w)),u.qb(49,49152,null,0,o.Q,[u.h,u.k,u.x],null,null),(l()(),u.rb(50,0,null,0,6,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.rb(51,0,null,null,5,"ion-buttons",[["class","button-sign-in"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.submit()&&u),u}),m.W,m.e)),u.qb(52,49152,null,0,o.n,[u.h,u.k,u.x],null,null),(l()(),u.rb(53,0,null,0,3,"ion-button",[["class","button-sign-in"]],null,null,null,m.V,m.d)),u.qb(54,49152,null,0,o.m,[u.h,u.k,u.x],{disabled:[0,"disabled"]},null),(l()(),u.rb(55,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["SIGN IN"])),(l()(),u.rb(57,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),u.rb(58,0,null,null,10,"ion-list",[],null,null,null,m.ob,m.w)),u.qb(59,49152,null,0,o.Q,[u.h,u.k,u.x],null,null),(l()(),u.rb(60,0,null,0,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.rb(61,0,null,null,7,"ion-row",[],null,null,null,m.sb,m.A)),u.qb(62,49152,null,0,o.lb,[u.h,u.k,u.x],null,null),(l()(),u.rb(63,0,null,0,5,"ion-col",[["size","5.5"],["text-center",""]],null,null,null,m.bb,m.j)),u.qb(64,49152,null,0,o.v,[u.h,u.k,u.x],{size:[0,"size"]},null),u.qb(65,16384,null,0,o.f,[u.k],null,null),(l()(),u.rb(66,0,null,0,2,"div",[["class","ion-text-center"],["style","color: #00ade5; font-size: 13px; padding-top: 20px;"]],null,null,null,null,null)),(l()(),u.rb(67,0,null,null,1,"a",[["style","text-decoration: none;"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.reset()&&u),u}),null,null)),(l()(),u.Kb(-1,null,["Forgot password?"]))],(function(l,n){var e=n.component;l(n,15,0,"medium"),l(n,17,0,"primary"),l(n,19,0,"primary","mail","small"),l(n,21,0,""),l(n,25,0,"email",e.data.email),l(n,28,0,"","email","Email","","email"),l(n,32,0,"medium"),l(n,34,0,"primary"),l(n,36,0,"primary","lock","small"),l(n,38,0,"primary",e.passwordIcon,"small"),l(n,40,0,""),l(n,44,0,"password",e.data.password),l(n,47,0,"false","password","Password","",e.passwordType),l(n,54,0,!u.Db(n,9).valid),l(n,64,0,"5.5")}),(function(l,n){l(n,7,0,u.Db(n,11).ngClassUntouched,u.Db(n,11).ngClassTouched,u.Db(n,11).ngClassPristine,u.Db(n,11).ngClassDirty,u.Db(n,11).ngClassValid,u.Db(n,11).ngClassInvalid,u.Db(n,11).ngClassPending),l(n,20,0,u.Db(n,21).required?"":null,u.Db(n,27).ngClassUntouched,u.Db(n,27).ngClassTouched,u.Db(n,27).ngClassPristine,u.Db(n,27).ngClassDirty,u.Db(n,27).ngClassValid,u.Db(n,27).ngClassInvalid,u.Db(n,27).ngClassPending),l(n,39,0,u.Db(n,40).required?"":null,u.Db(n,46).ngClassUntouched,u.Db(n,46).ngClassTouched,u.Db(n,46).ngClassPristine,u.Db(n,46).ngClassDirty,u.Db(n,46).ngClassValid,u.Db(n,46).ngClassInvalid,u.Db(n,46).ngClassPending)}))}function k(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"app-login",[],null,null,null,q,w)),u.qb(1,114688,null,0,g,[r.a,o.Ib,o.Tb,f.m,o.g,o.b,o.Jb,o.Ob,s.a,x.i,a.a,d.a,b.a,C.a,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var y=u.nb("app-login",g,k,{},{},[]);e.d(n,"LoginPageModuleNgFactory",(function(){return D}));var D=u.ob(h,[],(function(l){return u.Ab([u.Bb(512,u.j,u.Z,[[8,[p.a,y]],[3,u.j],u.v]),u.Bb(4608,x.o,x.n,[u.s,[2,x.w]]),u.Bb(4608,v.v,v.v,[]),u.Bb(4608,o.c,o.c,[u.x,u.g]),u.Bb(4608,o.Kb,o.Kb,[o.c,u.j,u.p]),u.Bb(4608,o.Pb,o.Pb,[o.c,u.j,u.p]),u.Bb(4608,v.e,v.e,[]),u.Bb(1073742336,x.c,x.c,[]),u.Bb(1073742336,v.u,v.u,[]),u.Bb(1073742336,v.i,v.i,[]),u.Bb(1073742336,o.Gb,o.Gb,[]),u.Bb(1073742336,v.r,v.r,[]),u.Bb(1073742336,f.p,f.p,[[2,f.u],[2,f.m]]),u.Bb(1073742336,h,h,[]),u.Bb(1024,f.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);