{"version":3,"sources":["./src/app/products/products.page.html","./src/app/products/products.module.ts","./src/app/products/products.page.scss","./src/app/products/products.page.ts"],"names":[],"mappings":"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","file":"products-products-module-es5.js","sourcesContent":["module.exports = \"<ion-content color=\\\"primary\\\">\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n        <ion-icon style=\\\"width: 20px; height: 20px; margin-left: 5px;\\\" name=\\\"arrow-back\\\" (click)=\\\"back()\\\"></ion-icon>\\n        </ion-buttons>\\n        <ion-title text-center style=\\\"margin-right: 15px;\\\">Add to stock</ion-title>\\n    </ion-toolbar>\\n\\n\\n    <div class=\\\"card-main\\\" style=\\\"background-color: white;\\\" *ngIf=\\\"type\\\">\\n\\n        <div class=\\\"buttons\\\">\\n            <ion-button expand=\\\"full\\\" (click)=\\\"addNewProduct()\\\">New Product</ion-button><br>\\n            <ion-button expand=\\\"full\\\" (click)=\\\"existingProduct()\\\">Existing Product</ion-button><br>\\n            <ion-button expand=\\\"full\\\" (click)=\\\"categoryModal()\\\">New Category</ion-button>\\n        </div>\\n    </div>\\n\\n    <!-- EXISTING PRODUCT -->\\n    <div class=\\\"body\\\" *ngIf=\\\"existing\\\">\\n        <ion-buttons slot=\\\"start\\\" style=\\\"padding-top: 10px; margin-bottom: 5px;\\\">\\n            <ion-button (click)=\\\"close()\\\">\\n                <ion-icon size=\\\"small\\\" style=\\\"width: 20px; height: 20px;\\\" color=\\\"primary\\\" name=\\\"close\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n\\n        <ion-row no-padding text-center>\\n            <ion-col>\\n                <ion-label style=\\\"font-size: 15px;\\\" class=\\\"title\\\">Choose category to filter</ion-label>\\n                <!-- <ion-select placeholder=\\\"category\\\" [(ngModel)]=\\\"category\\\" (ionChange)=\\\"setFilteredItems()\\\">\\n                <ion-select-option style=\\\"font-size: 13px;\\\" *ngFor=\\\"let item of categories.categories\\\">{{item}}</ion-select-option>\\n                </ion-select> -->\\n                <ion-icon style=\\\"width: 20px; height: 20px; margin-right: 5px;\\\" name=\\\"pricetags\\\" class=\\\"image\\\" color=\\\"primary\\\"></ion-icon>\\n            </ion-col>\\n            <!-- <ion-col size=\\\"4\\\">\\n                <ion-icon style=\\\"width: 20px; height: 20px; margin-right: 5px;\\\" name=\\\"pricetags\\\" class=\\\"image\\\" color=\\\"primary\\\"></ion-icon>\\n            </ion-col> -->\\n        </ion-row>\\n        <ion-row>\\n            <ion-segment scrollable  [(ngModel)]=\\\"category\\\"  (ionChange)=\\\"setFilteredItems()\\\">\\n                <ion-segment-button selected value=\\\"\\\">\\n                    <ion-label>All</ion-label>\\n                  </ion-segment-button>\\n                <ion-segment-button value=\\\"{{item}}\\\" *ngFor=\\\"let item of categories.categories\\\">\\n                    <ion-label>{{item}}</ion-label>\\n                </ion-segment-button>\\n              </ion-segment>\\n        </ion-row>\\n        <ion-item *ngIf=\\\"category != null\\\">\\n            <ion-input style=\\\"font-size: 15px;\\\" type=\\\"text\\\" clearInput placeholder=\\\"Enter product name\\\"></ion-input>\\n            <ion-icon style=\\\"width: 20px; height: 20px;\\\" name=\\\"search\\\" slot=\\\"end\\\"></ion-icon>\\n        </ion-item>\\n\\n\\n        <ion-item no-padding text-center style=\\\"background-color: #dedede; color: var(--ion-color-primary); font-size: 15px;\\\">\\n            <ion-col size=\\\"2\\\">\\n                Icon\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n                Product\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                Stock\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                Units\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                Price\\n            </ion-col>\\n        </ion-item>\\n        <ion-item no-padding text-center (click)=\\\"viewProduct(item)\\\" *ngFor=\\\"let item of products\\\" style=\\\"font-size: 13px; color: #737373; \\\">\\n            <ion-col text-center size=\\\"2\\\">\\n                <img [src]=\\\"item.image\\\" style=\\\"width: 50px;\\\">\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n                {{item.product}}\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                {{item.stock}}\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                {{item.quantity}}\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                {{item.currentprice}}\\n            </ion-col>\\n        </ion-item>\\n    </div>\\n\\n\\n    <!-- NEW PRODUCT -->\\n    <div *ngIf=\\\"newProduct\\\" class=\\\"body\\\">\\n        <ion-buttons slot=\\\"start\\\" style=\\\"padding-top: 10px; margin-bottom: 5px;\\\">\\n            <ion-button (click)=\\\"close()\\\">\\n                <ion-icon size=\\\"small\\\" style=\\\"width: 20px; height: 20px;\\\" color=\\\"primary\\\" name=\\\"close\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <form (ngSubmit)=\\\"addProduct()\\\" [formGroup]=\\\"productForm\\\" style=\\\"margin-right: 15px; margin-left: 15px;\\\">\\n            <ion-list no-padding>\\n                <ion-item no-padding>\\n                    <ion-input  style=\\\"font-size: 13px; color: #737373;\\\" type=\\\"text\\\" formControlName=\\\"product\\\" placeholder=\\\"Enter Product name\\\" required></ion-input>\\n                </ion-item>\\n                <ion-item no-padding>\\n                    <ion-input  style=\\\"font-size: 13px; color: #737373;\\\" no-padding type=\\\"number\\\" formControlName=\\\"barcode\\\" placeholder=\\\"Scan or Enter barcode\\\" value=\\\"{{scannedcode}}\\\" ></ion-input>\\n                    <ion-icon style=\\\"width: 20px; height: 20px; float: right; right: 0px; position: absolute;\\\" slot=\\\"end\\\" name=\\\"qr-scanner\\\" (click)=\\\"scan()\\\"></ion-icon>\\n                </ion-item>\\n                <ion-item no-padding (click)=\\\"selectCategory()\\\">\\n                    <ion-label style=\\\"font-size: 13px; color: #737373;\\\">Select Category </ion-label>\\n                    <ion-input style=\\\"font-size: 13px; color: #737373; float: right; right: 0px;\\\" no-padding placeholder=\\\"Select Category\\\" required slot=\\\"end\\\" formControlName=\\\"category\\\" value=\\\"{{value}}\\\">\\n                        <ion-icon style=\\\"width: 20px; height: 20px;\\\" name=\\\"arrow-dropdown\\\" color=\\\"medium\\\"></ion-icon>\\n                    </ion-input>\\n                </ion-item>\\n                <ion-item no-padding>\\n                    <ion-input style=\\\"font-size: 13px; color: #737373;\\\" type=\\\"number\\\" formControlName=\\\"stock\\\" placeholder=\\\"Enter Quantity available\\\" required>\\n                </ion-input>\\n                </ion-item>\\n                <ion-item no-padding>\\n                    <ion-input style=\\\"font-size: 13px; color: #737373;\\\" type=\\\"text\\\" formControlName=\\\"quantity\\\" placeholder=\\\"Enter Product Unit\\\" required></ion-input>\\n                </ion-item>\\n                <ion-item no-padding>\\n                    <ion-input style=\\\"font-size: 13px; color: #737373;\\\" type=\\\"text\\\" formControlName=\\\"currentprice\\\" placeholder=\\\"Enter Product Price\\\" required></ion-input>\\n                </ion-item>\\n                <ion-item no-padding>\\n                    <ion-input style=\\\"font-size: 13px; color: #737373;\\\" type=\\\"text\\\" formControlName=\\\"description\\\" placeholder=\\\"Enter Description\\\"></ion-input>\\n                </ion-item>\\n                <!-- <ion-item>\\n                <ion-label>Set product status </ion-label>\\n                <ion-select formControlName=\\\"status\\\" slot=\\\"end\\\" placeholder=\\\"Select\\\">\\n                    <ion-select-option selected>Available</ion-select-option>\\n                    <ion-select-option>Unavailable</ion-select-option>\\n                </ion-select>\\n                <ion-toggle checked slot=\\\"end\\\" formControlName=\\\"status\\\"></ion-toggle>\\n                </ion-item> -->\\n                <ion-item no-padding (click)=\\\"openCamera()\\\">\\n                    <ion-label style=\\\"font-size: 13px; color: #737373;\\\">Image:</ion-label>\\n                    <ion-input style=\\\"font-size: 13px; color: #737373;\\\" formControlName=\\\"image\\\" value=\\\"{{image}}\\\" readonly required></ion-input>\\n                    <ion-icon style=\\\"width: 20px; height: 20px; float: right; right: 0px; position: absolute;\\\" slot=\\\"end\\\" name=\\\"camera\\\"></ion-icon>\\n                </ion-item>\\n                <ion-button expand=\\\"full \\\" type=\\\"submit\\\" [disabled]=\\\"!productForm.valid\\\"\\n                style=\\\"margin-top: 50px; margin-bottom: 10px;\\\">Save</ion-button>\\n            </ion-list>\\n        </form>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductsPage } from './products.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProductsPage]\n})\nexport class ProductsPageModule {}\n","module.exports = \".card-main {\\n  color: var(--ion-color-medium);\\n  background-color: white;\\n  border-radius: 20px 20px 0px 0px;\\n  width: 100%;\\n  position: fixed;\\n  bottom: 0px;\\n  top: 100px;\\n  overflow-y: scroll;\\n}\\n\\nion-slides {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\nion-slides img {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  height: 100%;\\n}\\n\\nion-select {\\n  color: var(--ion-color-primary);\\n}\\n\\n.loader {\\n  text-align: center;\\n  margin-top: 40%;\\n}\\n\\n.body {\\n  color: #737373;\\n  background-color: white;\\n  border-radius: 20px 20px 0px 0px;\\n  width: 100%;\\n  position: fixed;\\n  bottom: 0px;\\n  top: 10%;\\n  overflow-y: scroll;\\n  margin-bottom: 0px;\\n}\\n\\n.buttons {\\n  margin-top: 30px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  text-align: center;\\n}\\n\\n.title {\\n  font-weight: bold;\\n  font-size: 1.1em;\\n}\\n\\n.image {\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  width: 50%;\\n  height: 50%;\\n  float: right;\\n}\\n\\nion-thumnail {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nion-thumnail img {\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  -o-object-position: center;\\n     object-position: center;\\n}\\n\\n.asc {\\n  background-color: var(--ion-color-primary);\\n}\\n\\n.asc button {\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL0tXSUsvS3dpa19NZXJjaGFudC9zcmMvYXBwL3Byb2R1Y3RzL3Byb2R1Y3RzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FEQ0E7RUFDSSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7QUNFSjs7QURESTtFQUNJLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLFlBQUE7QUNHUjs7QURBQTtFQUNJLCtCQUFBO0FDR0o7O0FEREE7RUFDSSxrQkFBQTtFQUNBLGVBQUE7QUNJSjs7QURGQTtFQUNJLGNBQUE7RUFDQSx1QkFBQTtFQUNBLGdDQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBRUEsa0JBQUE7QUNJSjs7QUREQTtFQUNJLGdCQUFBO0VBRUEsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDR0o7O0FEREE7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0FDSUo7O0FERkE7RUFDSSxzQkFBQTtLQUFBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDS0o7O0FESEE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQ01KOztBRExJO0VBQ0ksc0JBQUE7S0FBQSxtQkFBQTtFQUNBLDBCQUFBO0tBQUEsdUJBQUE7QUNPUjs7QURKQTtFQUtJLDBDQUFBO0FDR0o7O0FEUEk7RUFDSSwrQkFBQTtBQ1NSIiwiZmlsZSI6InNyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQtbWFpbntcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLXJhZGl1czogMjBweCAyMHB4IDBweCAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIGJvdHRvbTogMHB4O1xuICAgIHRvcDogMTAwcHg7XG4gICAgb3ZlcmZsb3cteTpzY3JvbGw7XG59XG5pb24tc2xpZGVzIHtcbiAgICB3aWR0aDogZml0LWNvbnRlbnQgO1xuICAgIGltZyB7XG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgIH1cbn1cbmlvbi1zZWxlY3R7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cbi5sb2FkZXIge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiA0MCU7XG59XG4uYm9keXtcbiAgICBjb2xvcjogIzczNzM3MztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4IDIwcHggMHB4IDBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAwcHg7XG4gICAgdG9wOiAxMCU7XG4gICAgb3ZlcmZsb3cteTpzY3JvbGw7XG4gICAgLy8gaGVpZ2h0OiAxMDAwMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICAvLyBtYXJnaW4tdG9wOiA0MHB4O1xufVxuLmJ1dHRvbnN7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAvLyBwYWRkaW5nLXRvcDogNjAlO1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4udGl0bGV7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgZm9udC1zaXplOiAxLjFlbTtcbn1cbi5pbWFnZXtcbiAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgIHdpZHRoOiA1MCU7XG4gICAgaGVpZ2h0OiA1MCU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xufVxuaW9uLXRodW1uYWlse1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBpbWd7XG4gICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgICAgIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xuICAgIH1cbn1cbi5hc2N7XG4gICAgYnV0dG9uIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgXG4gICAgfVxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cblxuIiwiLmNhcmQtbWFpbiB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwcHggMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDBweDtcbiAgdG9wOiAxMDBweDtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuXG5pb24tc2xpZGVzIHtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xufVxuaW9uLXNsaWRlcyBpbWcge1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuaW9uLXNlbGVjdCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5sb2FkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDQwJTtcbn1cblxuLmJvZHkge1xuICBjb2xvcjogIzczNzM3MztcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwcHggMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDBweDtcbiAgdG9wOiAxMCU7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgbWFyZ2luLWJvdHRvbTogMHB4O1xufVxuXG4uYnV0dG9ucyB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnRpdGxlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMS4xZW07XG59XG5cbi5pbWFnZSB7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogNTAlO1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbmlvbi10aHVtbmFpbCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5pb24tdGh1bW5haWwgaW1nIHtcbiAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgb2JqZWN0LXBvc2l0aW9uOiBjZW50ZXI7XG59XG5cbi5hc2Mge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uYXNjIGJ1dHRvbiB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59Il19 */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FirestoreService } from '../services/firestore.service';\nimport { Location } from '@angular/common';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { DatabaseService } from '../database.service';\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/camera/ngx';\nimport { FormBuilder, FormGroup, Validators, FormArray, FormControl } from '@angular/forms';\nimport { ActionSheetController, ModalController, ToastController, LoadingController } from '@ionic/angular';\nimport { CategoryPage } from '../category/category.page';\nimport { UploadService } from '../upload/upload.service';\nimport { File } from '@ionic-native/file/ngx';\nimport { Storage } from '@ionic/storage';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ImagePicker } from '@ionic-native/image-picker/ngx';\nimport { Crop } from '@ionic-native/crop/ngx';\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { Product } from '../models/product';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.page.html',\n  styleUrls: ['./products.page.scss'],\n})\nexport class ProductsPage implements OnInit {\n  // variables\n  type = true;\n  existing = false;\n  newProduct = false;\n  category: string;\n  productForm: FormGroup;\n  value = '';\n  scannedcode = '';\n  image = '';\n  images = [];\n  categories;\n  products ;\n  unfilteredProducts ;\n  shop ;\n  loading ;\n  date ;\n\n  constructor(\n    private navCtrl: Router,\n    private service: FirestoreService,\n    private asc: ActionSheetController,\n    private scannner: BarcodeScanner,\n    private http: HttpClient,\n    private db: DatabaseService,\n    private camera: Camera,\n    private formBuilder: FormBuilder,\n    private modal: ModalController,\n    private upload: UploadService,\n    private file: File,\n    private loader: LoadingController,\n    private load: LoadingController,\n    private storage: Storage,\n    private ref: ChangeDetectorRef,\n    private webview: WebView,\n    private fs: AngularFirestore,\n    private imagePicker: ImagePicker,\n    private cropService: Crop,\n    private fileChooser: FileChooser,\n    private st: AngularFireStorage,\n\n\n  ) {\n\n    this.service.hiddenTabs = true;\n    this.date = new Date() ;\n    this.productForm = formBuilder.group({\n      product: ['', Validators.required],\n      barcode: [this.scannedcode],\n      category: [this.value, Validators.required],\n      stock: ['', Validators.required],\n      quantity: ['', Validators.required],\n      currentprice: ['', Validators.required],\n      description: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*')])],\n      status: ['Available'],\n      image: [this.image,Validators.required]\n    });\n    this.shop = localStorage.getItem('shop');\n    this.service.getallcategories(this.shop).valueChanges().subscribe(res => {\n      this.categories = res ;\n    })\n    \n    this.getproducts();\n  }\n\n  async getproducts(){\n    this.service.getallProducts(this.shop).subscribe(res => {\n      this.products = res ;\n      this.unfilteredProducts = res ;\n    });\n     console.log(this.products);\n }\n  \n  // filter products\n  setFilteredItems() {\n    if (this.category !== null || this.category !== '') {\n      this.products = this.filterItems();\n      console.log(this.products);\n    }\n  }\n  filterItems() {\n    return this.unfilteredProducts.filter(item => {\n      return item.category.toLowerCase().indexOf(this.category.toLowerCase()) > -1;\n    });\n  }\n  \n\n  ngOnInit() {\n  }\n\n  back() {\n    this.service.hiddenTabs = false;\n    this.close();\n    this.navCtrl.navigate(['tabs/stock']);\n  }\n  addNewProduct() {\n    this.newProduct = true;\n    this.type = false;\n  }\n  existingProduct() {\n    this.existing = true;\n    this.type = false;\n  }\n  close() {\n    this.existing = false;\n    this.type = true;\n    this.newProduct = false;\n    this.category = null;\n  }\n  viewProduct(item) {\n    this.service.hiddenTabs = true;\n    this.service.setProduct(item);\n    console.log(item)\n    this.navCtrl.navigate(['tabs/productmodal']);\n  }\n  addProduct() {\n    this.Toast('uploading...');\n    this.uploadTostorage(this.image);\n    let data: Product = {\n      \"shop\": this.shop,\n      \"currentprice\": this.productForm.value.currentprice,\n      \"quantity\": this.productForm.value.quantity,\n      \"product\": this.productForm.value.product,\n      \"image\": this.productForm.value.image,\n      \"status\": this.productForm.value.status,\n      \"stock\": this.productForm.value.stock,\n      \"category\": this.productForm.value.category,\n      \"description\": this.productForm.value.description,\n      \"barcode\": this.productForm.value.barcode\n    }\n    console.log(data);\n    this.fs.collection(this.shop).add(data).then(res => {\n      this.productForm.reset();\n      this.category = '';\n      this.upload.presentToast('Product upload successful');\n    }).catch(err => {\n      console.log(err);\n    })\n    \n\n  }\n  scan() {\n    this.scannner.scan().then(code => {\n      if (code.cancelled) { return; }\n      this.scannedcode = code.text;\n    });\n  }\n  async selectCategory() {\n    const actionSheet = await this.asc.create({\n      header: 'Categories',\n      buttons: this.createButtons()\n    });\n    await actionSheet.present();\n  }\n  createButtons() {\n    const buttons = [];\n    \n    console.log(this.categories.categories)\n    // tslint:disable-next-line: forin\n    for (let index in this.categories.categories) {\n      const button = {\n        text: this.categories.categories[index],\n        // icon: this.Allcategories[index].icon,\n        handler: () => {\n          console.log('button text ' + this.categories.categories[index]);\n          this.value = this.categories.categories[index];\n          return true;\n        }\n      };\n      buttons.push(button);\n    }\n    const adbutton = {\n      text: 'Add New',\n      cssClass: 'asc',\n      handler: () => {\n        console.log('adding new');\n        this.categoryModal();\n      }\n    };\n    buttons.push(adbutton);\n    return buttons;\n  }\n  async categoryModal() {\n    const modal = await this.modal.create({\n      component: CategoryPage,\n      componentProps: { shopname: this.db.getshopname() }\n    });\n    localStorage.setItem('shop', this.db.getshopname());\n    await modal.present();\n  }\n \n  async selectImage() {\n    const actionSheet = await this.asc.create({\n      header: \"Select Image Source\",\n      buttons: [\n        {\n          text: 'Load from Library',\n          handler: () => {\n            this.openImagePickerCrop();\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n  openImagePickerCrop(){\n    this.imagePicker.hasReadPermission().then(\n      (result) => {\n        if(result == false){\n          // no callbacks required as this opens a popup which returns async\n          this.imagePicker.requestReadPermission();\n        }\n        else if(result == true){\n          this.imagePicker.getPictures({\n            maximumImagesCount: 1\n          }).then(\n            (results) => {\n              for (var i = 0; i < results.length; i++) {\n                this.cropService.crop(results[i], {quality: 75}).then(\n                  newImage => {\n                    this.uploadImageToFirebase(newImage);\n                  },\n                  error => alert(\"Error cropping image\"+error)\n                );\n              }\n            }, (err) => alert(err)\n          ).catch(err => console.log(err));\n        }\n      }, (err) => {\n        alert(err);\n      }).catch(err => alert(err))\n    }\n    uploadImageToFirebase(image){\n      image = this.webview.convertFileSrc(image);\n    \n      //uploads img to firebase storage\n      this.upload.uploadImage(image)\n      .then(photoURL => {\n        console.log(photoURL);\n        this.upload.presentToast('Image was updated successfully');\n        \n        })\n      }\n    async Toast(msg){\n      this.loading = await this.loader.create({\n        message: msg,\n        duration: 2000,\n      });\n      await this.loading.present();\n    }\n   async openCamera(){\n      try {\n        // camera options\n        const options: CameraOptions = {\n          quality: 50,\n          targetHeight: 600,\n          targetWidth: 600,\n          destinationType: this.camera.DestinationType.DATA_URL,\n          encodingType: this.camera.EncodingType.JPEG,\n          mediaType: this.camera.MediaType.PICTURE,\n          correctOrientation: true\n        }\n        const results  =  await this.camera.getPicture(options) ;\n        const image = `data:image/jpeg;base64,${results}`;\n    \n        this.image = image ;\n\n        }\n        catch (e){\n          console.log(e);\n        }\n    }\n    uploadTostorage(image){\n      const pictures = this.st.storage.ref(this.shop+'/'+this.date); \n        pictures.putString(image, 'data_url').then(url => {\n          this.image = url.downloadURL ;\n        });\n    }\n \n}\n"],"sourceRoot":""}