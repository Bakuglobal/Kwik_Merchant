<ion-content color="primary" style="background-color: var(--ion-color-primary);">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-icon style="width: 20px; height: 20px; margin-left: 5px;" name="arrow-back" (click)="back()">
            </ion-icon>
        </ion-buttons>

        <!-- <ion-buttons slot="end">
            <ion-icon style="width: 20px; height: 20px; padding-right: 5px;" name="trash" (click)="confirmDelete(product.id)"></ion-icon>
        </ion-buttons> -->

        <!-- <ion-buttons slot="end" (click)="edit = true" *ngIf="edit == false">
            <ion-icon style="width: 20px; height: 20px; margin-right: 5px;" name="create"></ion-icon>
        </ion-buttons>

        <ion-buttons slot="end"(click)="edit = false" *ngIf="edit == true" >
            <ion-icon style="width: 20px; height: 20px; margin-right: 5px;" name="close"></ion-icon>
        </ion-buttons> -->
        <ion-buttons *ngIf="product !== undefined">
            <ion-title class="ion-text-center" *ngIf="product.product !== null">{{product.product}}</ion-title>
            <ion-title class="ion-text-center" *ngIf="product.Meal !== undefined">{{product.Meal}}</ion-title>
        </ion-buttons>

    </ion-toolbar>





    <div class="body">
        <div style="margin-top: 40%;text-align: center;" *ngIf="!view">
            <ion-spinner name="circles" color="primary"></ion-spinner>
        </div>

        <div *ngIf="view">
            <form [formGroup]="productForm">

                <!--    <ion-row style="margin-left: 10px; margin-top: 20px;">
                    <div style="font-size: 17px; color: var(--ion-color-primary);">
                        Click on image to change
                    </div>

                    <div style="position: absolute; float: right; right: 0px; margin-right: 15px; font-size: 13px;">
                        <img class="image" style="width: 35px; height: 35px; margin-top: -5px;" alt="image" [src]="product.image" (click)="imageupdate()">
                    </div>
                </ion-row>

                <ion-row style="margin-top: 20px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Product Name :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.product}}</ion-label>
                        <ion-input style="font-size: 14px; color: #737373;" type="text" formControlName="product" value="{{product.product}}" *ngIf="edit"></ion-input>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 5px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Product Barcode :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.barcode}}</ion-label>
                        <ion-input style="font-size: 14px; color: #737373;" type="text" formControlName="barcode" value="{{product.barcode}}" *ngIf="edit"></ion-input>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 1px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Product Category :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.category}}</ion-label>
                        <ion-select style="font-size: 14px; color: #737373;" formControlName="category" *ngIf="edit" placeholder="{{product.category}}">
                        <ion-select-option style="font-size: 14px; color: #737373;" *ngFor="let item of category.categories">{{item.name}}</ion-select-option>
                        </ion-select>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 5px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Available Stock :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.stock}}</ion-label>
                        <ion-input style="font-size: 14px; color: #737373;" type="text" formControlName="stock" value="{{product.stock}}"*ngIf="edit"></ion-input>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 5px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Product Unit :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.quantity}}</ion-label>
                        <ion-input style="font-size: 14px; color: #737373;" type="text" formControlName="quantity" value="{{product.quantity}}"*ngIf="edit"></ion-input>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 5px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Product Price :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.currentprice}}</ion-label>
                        <ion-input style="font-size: 14px; color: #737373;" type="text" formControlName="currentprice" value="{{product.currentprice}}"*ngIf="edit"></ion-input>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 5px; margin-left: 5px; margin-right: 10px;">
                    <ion-col size="12">
                        <ion-label style="font-size: 14px; color: #737373;">Product Description :</ion-label>
                    </ion-col>
                    <ion-col size="12" style="margin-left: 10px; margin-right: 10px; font-size: 12px; color: #737373;">
                        <ion-label *ngIf="!edit">{{product.description}}</ion-label>
                        <div style="margin-right: 20px;">
                            <textarea type="text" style="margin-right: 40px;" rows="6" formControlName="description" value="{{product.description}}"*ngIf="edit"></textarea>
                        </div>
                    </ion-col>
                </ion-row>

                <ion-row style="margin-top: 5px; margin-left: 5px; margin-right: 10px;">
                    <ion-col>
                        <ion-label style="font-size: 14px; color: #737373;">Product status :</ion-label>
                    </ion-col>
                    <ion-col style="text-align:right">
                        <ion-label style="font-size: 14px; color: #737373;" *ngIf="!edit">{{product.status}}</ion-label>
                        <ion-select style="font-size: 14px; color: #737373;" formControlName="status" *ngIf="edit" placeholder="{{product.status}}">
                        <ion-select-option checked style="font-size: 14px; color: #737373;">Available</ion-select-option>
                        <ion-select-option style="font-size: 14px; color: #737373;">Unavailable</ion-select-option>
                        </ion-select>
                    </ion-col>
                </ion-row>

                <div style="margin-left: 8px; margin-right: 10px;">
                    <ion-button style="font-size: 13px; margin-bottom: 10px;" disabled expand="full" style="margin-top: 50px;" [disabled]="!edit" (click)="saveChanges(product.id)">
                        Save Changes
                    </ion-button>
                </div>  -->

                <div style="padding-left: 40px;padding-right:40px ;padding-top: 20px;">
                    <img [src]="product.image" width="100%" alt="product image" height="200px"
                        *ngIf="product.image !== undefined">
                    <img src="../../assets/images/image-placeholder.png" width="100%" alt="product image" height="200px"
                        *ngIf="product.image === undefined">
                </div>
                <div class="details">
                    <ion-item>
                        <ion-col size="3" class="ion-text-left">
                            <ion-label>Product</ion-label>
                        </ion-col>
                        <ion-col class="ion-text-center">
                            <ion-input *ngIf="product.Meal !== undefined " [readonly]="!edit" formControlName="product"
                                value="{{product.Meal}}"></ion-input>
                            <ion-input *ngIf="product.product !== null" [readonly]="!edit" formControlName="product"
                                value="{{product.product}}"></ion-input>
                        </ion-col>
                    </ion-item>
                    <ion-item>
                        <ion-col size="3" class="ion-text-left">
                            <ion-label>Category</ion-label>
                        </ion-col>
                        <ion-col class="ion-text-center">
                            <ion-input *ngIf="!edit" readonly formControlName="category" value="{{product.category}}">
                            </ion-input>
                            <ion-select style="font-size: 14px; color: #737373;" formControlName="category" *ngIf="edit"
                                placeholder="{{product.category}}">
                                <ion-select-option style="font-size: 14px; color: #737373;"
                                    *ngFor="let item of category.categories">{{item}}</ion-select-option>
                            </ion-select>
                        </ion-col>
                    </ion-item>
                    <ion-item>
                        <ion-col size="3" class="ion-text-left">
                            <ion-label>Quantity</ion-label>
                        </ion-col>
                        <ion-col class="ion-text-center">
                            <ion-input [readonly]="!edit" formControlName="quantity" value="{{product.quantity}}">
                            </ion-input>
                        </ion-col>
                    </ion-item>
                    <ion-item>
                        <ion-col size="3" class="ion-text-left">
                            <ion-label>Price</ion-label>
                        </ion-col>
                        <ion-col class="ion-text-center">
                            <ion-input [readonly]="!edit" formControlName="currentprice"
                                value="{{product.currentprice}}"></ion-input>
                        </ion-col>
                    </ion-item>
                    <ion-item>
                        <ion-col size="3" class="ion-text-left">
                            <ion-label>Description</ion-label>
                        </ion-col>
                        <ion-col class="ion-text-center">
                            <textarea [readonly]="!edit" formControlName="description" value="{{product.description}}"
                                rows="7"></textarea>
                        </ion-col>
                    </ion-item>
                </div>
                <div style="position: fixed;bottom: 10px;width: 100%;">
                    <ion-button *ngIf="!edit" expand="full" (click)="edit = true">
                        Edit
                    </ion-button>
                    <ion-button *ngIf="edit" expand="full" shape="block" (click)="saveChanges(product.id)">
                        Save Changes
                    </ion-button>
                </div>
            </form>
        </div>
    </div>
</ion-content>